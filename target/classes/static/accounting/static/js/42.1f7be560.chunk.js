(this["webpackJsonpportal-react"]=this["webpackJsonpportal-react"]||[]).push([[42],{1583:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),l=a(2),n=a(19),r=a(62),c=a(21),d=a(64),o=a(105),h=a(72),m=a.n(h),p=a(3),u=a(5),g=a(6),v=a.n(g),b=a(9),y=a.n(b),C=a(176);class f extends s.Component{constructor(e){super(e),this.state={pageNumber:0,pageSize:10,loading:!1,manual:!1,list:[],total:0,searching:!1,searchQuery:void 0,page:0,size:10,searchKey:"",steps:[{target:".main-panel",content:"firma parametreleri",placement:"center"},{target:".zocial",content:'Bordro y\xfcklemek i\xe7in l\xfctfen "\xdccret Bordrosu Y\xfckle" butonuna t\u0131klay\u0131n\u0131z.',placement:"bottom-start"}],locale:{back:"Geri",close:"Kapat",last:"Son",next:"\u0130leri",skip:"Atla"},joyrideActive:!1,shouldRun:!0,stop:!1},this.editValidateDef={title:e=>!m.a.isEmpty(e),value:e=>!m.a.isEmpty(e)},this.fetchData=this.fetchData.bind(this),this.handleSearch=this.handleSearch.bind(this),this.editClicked=this.editClicked.bind(this),this.saveClicked=this.saveClicked.bind(this),this.createClicked=this.createClicked.bind(this),this.deleteClicked=this.deleteClicked.bind(this),this.editClassName=this.editClassName.bind(this),this.searchWithKey=this.searchWithKey.bind(this),this.editHandleInputChange=this.editHandleInputChange.bind(this),this.callback=this.callback.bind(this)}handleSearch(e){this.setState({searchQuery:e,searching:!0},()=>this.fetchData(this.state.accessor,this.state.direction,0,this.state.size))}searchWithKey(e){e.target.value;this.setState({searchKey:e.target.value,manual:!0})}fetchData(e,t,a,s){let i=this,l=void 0!==e?"&sort="+e+","+t:"",n=i.state.searchQuery?"&"+i.state.searchQuery:"",r={url:"/formparameter/readFormParameters?page="+a+"&size="+s+n+l,method:"get"};i.setState({loading:!0,searching:!0,manual:!0!==i.manual&&i.manual}),i.props.reload(!0),Object(u.e)(r).then((function(e){i.setState({page:a,size:s,total:e.data.totalElements,list:e.data.content,loading:!1,searching:!1}),i.props.reload(!1)})).catch((function(e){i.setState({loading:!1,searching:!1}),i.props.reload(!1),Object(p.v)(e)}))}createClicked(){this.setState({selected:{title:"",value:""},valid:{},displayCreateUpdateDialog:!0})}editClicked(e){let t=Object.assign({},e);delete t._$visited,this.setState({selected:t,valid:{},displayCreateUpdateDialog:!0})}deleteClicked(e){let t=this,a={url:"/formparameter/deleteFormParameter",method:"post",data:e};t.setState({disabledDeleteBtn:!0}),Object(u.e)(a).then((function(e){let a=e.data;t.setState({selected:null,manual:!0,alert:null,disabledDeleteBtn:!1}),v.a.success(a,{position:"top-right",effect:"stackslide",timeout:5e3})})).catch((function(e){Object(p.v)(e),t.setState({disabledDeleteBtn:!1})}))}saveClicked(){let e=Object.assign({},this.state.selected),t=this,a={url:"/formparameter/saveFormParameter",method:"post",data:e};t.setState({disabledSaveBtn:!0}),Object(u.e)(a).then((function(e){let a=e.data;t.setState({selected:null,displayCreateUpdateDialog:!1,manual:!0,disabledSaveBtn:!1}),v.a.success(a,{position:"top-right",effect:"stackslide",timeout:5e3})})).catch((function(e){Object(p.v)(e),t.setState({disabledSaveBtn:!1})}))}editHandleInputChange(e){const t=e.target;let a="checkbox"===t.type?t.checked:t.value,s=t.name;if("title"!==s||!a.toString().includes(" ")){let e=this.editValidateDef[s]&&this.editValidateDef[s](a);this.setState((t,i)=>(t.selected[s]=a,t.valid[s]=e,{selected:t.selected,valid:t.valid}))}}editClassName(e){let t=this.state.valid[e];return"boolean"!==typeof t?void 0:{valid:t,invalid:!t}}renderCreateUpdateModal(){return i.a.createElement(l.Modal,{isOpen:this.state.displayCreateUpdateDialog,size:"md",toggle:()=>this.setState({displayCreateUpdateDialog:!1})},i.a.createElement(l.ModalHeader,{className:"justify-content-center",toggle:()=>this.setState({displayCreateUpdateDialog:!1})},"Dahili Parametre Tan\u0131m\u0131"),i.a.createElement(l.ModalBody,null,this.state.selected&&i.a.createElement("div",null,i.a.createElement(l.Form,null,i.a.createElement(l.FormGroup,{row:!0},i.a.createElement(l.Label,{sm:4,for:"name"},"Parametre Ad\u0131: *"),i.a.createElement(l.Col,{sm:8},i.a.createElement(l.Input,Object.assign({type:"text",name:"title",value:this.state.selected.title,onChange:this.editHandleInputChange},this.editClassName("title"))))),i.a.createElement(l.FormGroup,{row:!0},i.a.createElement(l.Label,{sm:4,for:"country"},"Parametre De\u011feri: *"),i.a.createElement(l.Col,{sm:8},i.a.createElement(l.Input,Object.assign({type:"text",name:"value",value:this.state.selected.value,onChange:this.editHandleInputChange},this.editClassName("value")))))))),i.a.createElement(l.ModalFooter,null,i.a.createElement(l.Button,{title:"\u0130ptal",style:{paddingLeft:"16px",width:"100px"},color:"secondary",onClick:()=>this.setState({displayCreateUpdateDialog:!1})},"\u0130ptal"),i.a.createElement(l.Button,{title:"Kaydet",style:{paddingLeft:"16px",width:"100px"},color:"primary",disabled:this.state.disabledSaveBtn||!(this.state.selected&&this.state.selected.title&&this.state.selected.value),onClick:this.saveClicked},"Kaydet")))}activateJoyride(){!1===this.state.joyrideActive&&(this.setState({flag:0}),this.setState({joyrideActive:!0}),this.state.width<1e3&&this.setState({flag:1}))}callback(e){"close"===e.action&&"step:after"===e.type&&(this.setState({shouldRun:!1}),this.setState({flag:0})),"stop"!==e.action&&"reset"!==e.action&&"skip"!==e.action||(this.setState({shouldRun:!0}),this.setState({joyrideActive:!1}),this.setState({flag:0}),this.activateJoyride())}render(){let e=this.state.steps,t=this.state.locale,a=[{Header:"Parametre Ad\u0131",accessor:"title"},{Header:"Parametre De\u011feri",accessor:"value"},{Header:"Olu\u015fturulma Zaman\u0131",accessor:"createdAt",Cell:e=>i.a.createElement("div",{style:{margin:0}},y()(e.createdAt).isValid()?y()(e.createdAt).format("DD-MM-YYYY HH:mm:ss"):"")},{Header:"G\xfcncellenme Zaman\u0131",accessor:"updatedAt",Cell:e=>i.a.createElement("div",{style:{margin:0}},y()(e.updatedAt).isValid()?y()(e.updatedAt).format("DD-MM-YYYY HH:mm:ss"):"")},{Header:"\u0130\u015flemler",accessor:"",sortable:!1,Cell:e=>i.a.createElement("div",{style:{textAlign:"left"}},i.a.createElement(d.a,{title:"D\xfczenle",faIcon:"fa-edit",onClick:()=>this.editClicked(e),color:"success"}),i.a.createElement(d.a,{title:"Sil",faIcon:"fa-trash",color:"danger",onClick:t=>{this.setState({alert:i.a.createElement(o.a,{showCancel:!0,warning:!0,confirmBtnText:"Evet",cancelBtnText:"Hay\u0131r",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Emin misiniz?",onConfirm:()=>this.deleteClicked(e),onCancel:()=>this.setState({alert:null}),disabled:this.state.disabledDeleteBtn},e.title+" silinecek.")})}}))}];return i.a.createElement("div",{className:"row baseBackground"},this.state.joyrideActive&&i.a.createElement(C.a,{disableBeacon:!1,autoStart:!0,locale:t,steps:e,continuous:!0,run:this.state.shouldRun,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,scrollToSteps:!0,disableCloseOnEsc:!0,disableOverlay:!1,disableOverlayClicks:!1,keyboardNavigation:!0,hideBackButton:!1,disableOverlayClose:!0,callback:this.callback,holePadding:0,shouldRun:this.state.shouldRun,styles:{options:{zIndex:1e5,primaryColor:"#50a8e2"}}}),i.a.createElement(l.Nav,{className:"topbar",style:{paddingLeft:"14px",height:"53px"}},i.a.createElement(c.a,{position:"leftSide",className:"zocial Yeni",label:"Yeni Olu\u015ftur",title:"Yeni Form \u015eablonu Olu\u015ftur",disabled:this.state.disabledSaveBtn,style:{fontSize:"x-small"},onClick:this.createClicked}),this.state.stop&&i.a.createElement("div",{className:"helpButtonContainer",position:"rightSide",style:{position:"inherit",right:"4.4em",marginTop:"1.4em"}},i.a.createElement("button",{className:"helpButton",onClick:()=>{this.activateJoyride()}},i.a.createElement("span",{className:"tooltipText"},"Size yard\u0131mc\u0131 olabilirim"),i.a.createElement("i",{className:"far fa-question-circle helpButtonIcon"})))),this.renderCreateUpdateModal(),i.a.createElement("div",{className:"col-sm-12 satirBasi"},i.a.createElement("div",{className:"card-header "},i.a.createElement("h4",{className:"card-title"},"Firma Parametreleri")),i.a.createElement("div",{className:"card-body",style:{paddingBottom:"0px"}},i.a.createElement("div",{className:""},i.a.createElement("div",{className:"",style:{marginTop:"10px",marginBottom:"0px"}},i.a.createElement(r.a,{fields:[{label:"Parametre Ad\u0131",accessor:"title",type:"text",operator:"="},{label:"Parametre De\u011feri",accessor:"value",type:"text",operator:"="}],loading:this.state.loading,onSearch:this.handleSearch})))),i.a.createElement("div",{className:"card-body"},i.a.createElement(n.a,{columns:a,content:this.state.list,loading:this.state.loading,total:this.state.total,page:this.state.page,manual:this.state.manual,size:this.state.size,options:["5","10","20","50","100"],fetchData:this.fetchData}))),this.state.alert)}}t.default=f}}]);