(this["webpackJsonpportal-react"]=this["webpackJsonpportal-react"]||[]).push([[33],{1321:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"e",(function(){return o}));var s=a(18);function i(e,t){let a={},i="";return a.name=Object(s.b)(void 0,"1,150",e.name),a.name.valid||(i=i+" <strong>Departman Ad\u0131 "+a.name.message+"</strong><br/>"),a.typeId=Object(s.b)(void 0,"1,150",e.typeId),a.typeId.valid||(i=i+" <strong>Departman T\xfcr "+a.typeId.message+"</strong><br/>"),a.parentId=Object(s.b)("number","1,11",e.parentId),a.parentId.valid||(i=i+" <strong>Ba\u011fl\u0131 Oldu\u011fu Departman "+a.parentId.message+"</strong><br/>"),t&&(a.integrationCode=Object(s.b)(void 0,"1,150",e.integrationCode),a.integrationCode.valid||(i=i+" <strong>Departman Kodu "+a.integrationCode.message+"</strong><br/>")),{error:a,valid:c(a),errorMessage:i}}function l(e){let t={},a="";return t.category=Object(s.b)(void 0,"1,150",e.category),t.category.valid||(a=a+" <strong>Form T\xfcr\xfc "+t.category.message+"</strong><br/>"),{error:t,valid:c(t),errorMessage:a}}function r(e){let t={},a="";return t.type=Object(s.b)(void 0,"1,150",e.type),t.type.valid||(a=a+" <strong>Departman T\xfcr\xfc "+t.type.message+"</strong><br/>"),{error:t,valid:c(t),errorMessage:a}}function n(e){let t={},a="";return t.documentType=Object(s.b)("documentType","1,100",e.documentType),t.documentType.valid||(a="".concat(a," <strong>Belge T\xfcr\xfc ").concat(t.documentType.message,"</strong><br/>")),{error:t,valid:c(t),errorMessage:a}}function o(e){let t={},a="";return t.account=Object(s.b)("email","1,100",e.account),t.account.valid||(a=a+" <strong>Kep Adresi "+t.account.message+"</strong><br/>"),t.tckn=Object(s.b)("number","11,11",e.tckn),t.tckn.valid||(a=a+" <strong>TC Kimlik No "+t.tckn.message+"</strong><br/>"),t.parola=Object(s.b)(void 0,"1,20",e.parola),t.parola.valid||(a=a+" <strong>Parola "+t.parola.message+"</strong><br/>"),t.sifre=Object(s.b)(void 0,"1,20",e.sifre),t.sifre.valid||(a=a+" <strong>\u015eifre "+t.sifre.message+"</strong><br/>"),{error:t,valid:c(t),errorMessage:a}}function c(e){let t=!0;for(let a in e){if(!e[a].valid){t=!1;break}}return t}},1584:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),l=a(2),r=a(19),n=a(64),o=a(105),c=a(63),d=a.n(c),h=a(72),m=a.n(h),p=a(5),u=a(3),g=a(62),y=a(6),b=a.n(y),f=a(1321),v=a(21),C=a(176);class S extends s.Component{constructor(e){super(e),this.notify=i.a.createRef(),this.state={alert:null,session:null,loading:!0,displayCreateUpdateDialog:!1,valid:null,manual:!1,content:[],total:0,searching:!1,searchQuery:void 0,page:0,size:10,searchKey:"",steps:[{target:".main-panel",content:"form turu tanimi",placement:"center"},{target:".zocial",content:'Bordro y\xfcklemek i\xe7in l\xfctfen "\xdccret Bordrosu Y\xfckle" butonuna t\u0131klay\u0131n\u0131z.',placement:"bottom-start"}],locale:{back:"Geri",close:"Kapat",last:"Son",next:"\u0130leri",skip:"Atla"},joyrideActive:!1,shouldRun:!0,stop:!1},this.editValidateDef={category:e=>!m.a.isEmpty(e)},this.fetchData=this.fetchData.bind(this),this.searchWithKey=this.searchWithKey.bind(this),this.handleSearch=this.handleSearch.bind(this),this.createClicked=this.createClicked.bind(this),this.editClicked=this.editClicked.bind(this),this.saveClicked=this.saveClicked.bind(this),this.deleteClicked=this.deleteClicked.bind(this),this.editHandleInputChange=this.editHandleInputChange.bind(this),this.findFormTemplatesByFormType=this.findFormTemplatesByFormType.bind(this),this.callback=this.callback.bind(this)}async findFormTemplatesByFormType(e){let t={url:"/formtemplate/countFormTemplate",method:"post",data:e.id},a=null;return await Object(p.e)(t).then((function(e){a=e.data})).catch((function(e){Object(u.v)(e)})),parseInt(a)}handleSearch(e){this.setState({searchQuery:e,searching:!0},()=>this.fetchData(this.state.accessor,this.state.direction,0,this.state.size))}searchWithKey(e){this.setState({searchKey:e.target.value,manual:!0})}fetchData(e,t,a,s){let i=this,l=void 0!==e?"&sort="+e+","+t:"",r=i.state.searchQuery?"&"+i.state.searchQuery:"",n={url:"/formtype/readFormTypeAllPageable?page="+a+"&size="+s+r+l,method:"post"};i.setState({loading:!0,searching:!0,manual:!0!==i.manual&&i.manual}),i.props.reload(!0),Object(p.e)(n).then((function(e){i.setState({page:a,size:s,total:e.data.totalElements,content:e.data.content,loading:!1,searching:!1}),i.props.reload(!1)})).catch((function(e){i.setState({loading:!1,searching:!1}),i.props.reload(!1),Object(u.v)(e)}))}createClicked(){this.newData=!0,this.setState({selected:{category:""},valid:{},displayCreateUpdateDialog:!0})}editClicked(e){let t=Object.assign({},e);delete t._$visited,this.setState({selected:t,valid:{},displayCreateUpdateDialog:!0})}saveClicked(){let e=Object.assign({},this.state.selected);if(e.category=e.category.trim(),!e.category||"\u015eABLONSUZ"!==e.category.toString().toUpperCase()&&"\u015eABLONSUZ TASLAK"!==e.category.toString().toUpperCase()){let t=Object(f.d)(e);if(t.valid){let t=this,a={url:"/formtype/saveFormType",method:"post",data:e};t.setState({disabledSaveBtn:!0}),Object(p.e)(a).then((function(e){let a=e.data;t.setState({selected:null,displayCreateUpdateDialog:!1,manual:!0,disabledSaveBtn:!1}),b.a.success(a,{position:"top-right",effect:"stackslide",timeout:5e3})})).catch((function(e){Object(u.v)(e),t.setState({disabledSaveBtn:!1})}))}else b.a.error(t.errorMessage,{position:"top-right",effect:"stackslide",timeout:8e3})}else this.setState({alert:i.a.createElement(o.a,{showCancel:!0,warning:!0,confirmBtnText:"Tamam",cancelBtnText:"Hay\u0131r",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Form T\xfcr\xfc \u015fe\xe7ilemez?",onConfirm:()=>this.setState({alert:null}),onCancel:()=>this.setState({alert:null})},"Form T\xfcr\xfc olarak '\u015eablonsuz veya \u015eablonsuz Taslak' se\xe7ilemez. L\xfctfen ge\xe7erli bir se\xe7im yap\u0131n\u0131z.")})}deleteClicked(e){let t=this,a={url:"/formtype/deleteFormType",method:"post",data:e};t.setState({disabledDeleteBtn:!0}),Object(p.e)(a).then((function(e){let a=e.data;t.setState({selected:null,displayCreateUpdateDialog:!1,manual:!0,alert:null,disabledDeleteBtn:!1}),b.a.success(a,{position:"top-right",effect:"stackslide",timeout:5e3})})).catch((function(e){Object(u.v)(e),t.setState({loading:!1,alert:null,disabledDeleteBtn:!1})}))}editHandleInputChange(e){const t=e.target;let a="checkbox"===t.type?t.checked:this.upperCase(t),s=t.name,i=this.editValidateDef[s]&&this.editValidateDef[s](a);this.setState(e=>(e.selected[s]=a,e.valid[s]=i,{selected:e.selected,valid:e.valid}))}upperCase(e){return e.value.toString().replace("i","\u0130").toUpperCase()}editClassName(e){let t=this.state.valid[e];return"boolean"!==typeof t?void 0:{valid:t,invalid:!t}}async countChecker(e){0===await this.findFormTemplatesByFormType(e)?this.setState({alert:i.a.createElement(o.a,{showCancel:!0,warning:!0,confirmBtnText:"Evet",cancelBtnText:"Hay\u0131r",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",disabled:this.state.disabledDeleteBtn,title:"Emin misiniz?",onConfirm:()=>this.deleteClicked(e),onCancel:()=>this.setState({alert:null})},e.category+" form t\xfcr\xfc silinecek.")}):this.setState({alert:i.a.createElement(o.a,{error:!0,confirmBtnText:"Tamam",confirmBtnBsStyle:"error",title:"Uyar\u0131",onConfirm:()=>this.setState({alert:null})},"Form \u015fablonunda kullan\u0131mda olan form t\xfcr\xfc silinemez.")})}renderCreateUpdate(){return i.a.createElement(l.Modal,{isOpen:this.state.displayCreateUpdateDialog,size:"md",toggle:()=>this.setState({displayCreateUpdateDialog:!1})},i.a.createElement(l.ModalHeader,{className:"justify-content-center",toggle:()=>this.setState({displayCreateUpdateDialog:!1})},"Form T\xfcrleri"),i.a.createElement(l.ModalBody,null,this.state.displayCreateUpdateDialog&&i.a.createElement(d.a,{ref:this.notify}),this.state.selected&&i.a.createElement("div",null,i.a.createElement(l.Form,null,i.a.createElement(l.FormGroup,{row:!0},i.a.createElement(l.Label,{sm:4,for:"category"},"Form T\xfcr\xfc: *"),i.a.createElement(l.Col,{sm:8},i.a.createElement(l.Input,Object.assign({type:"text",name:"category",value:this.state.selected.category,onChange:this.editHandleInputChange},this.editClassName("category")))))))),i.a.createElement(l.ModalFooter,null,i.a.createElement(l.Button,{title:"\u0130ptal",style:{paddingLeft:"16px",width:"100px"},color:"secondary",onClick:()=>this.setState({displayCreateUpdateDialog:!1})},"\u0130ptal"),i.a.createElement(l.Button,{title:"Kaydet",style:{paddingLeft:"16px",width:"100px"},color:"primary",disabled:this.state.disabledSaveBtn,onClick:this.saveClicked},"Kaydet")))}activateJoyride(){!1===this.state.joyrideActive&&(this.setState({flag:0}),this.setState({joyrideActive:!0}),this.state.width<1e3&&this.setState({flag:1}))}callback(e){"close"===e.action&&"step:after"===e.type&&(this.setState({shouldRun:!1}),this.setState({flag:0})),"stop"!==e.action&&"reset"!==e.action&&"skip"!==e.action||(this.setState({shouldRun:!0}),this.setState({joyrideActive:!1}),this.setState({flag:0}),this.activateJoyride())}render(){let e=this.state.steps,t=this.state.locale;const a=[{Header:"Form T\xfcr\xfc",accessor:"category",Cell:e=>i.a.createElement("div",{style:{textAlign:"left"}},e.category),width:"80%"},{Header:"\u0130\u015flemler",accessor:"",sortable:!1,width:"10%",Cell:e=>i.a.createElement("div",null,i.a.createElement(n.a,{title:"D\xfczenle",faIcon:"fa-edit",onClick:()=>this.editClicked(e),color:"success"}),i.a.createElement(n.a,{title:"Sil",faIcon:"fa-trash",color:"danger",onClick:()=>this.countChecker(e)}))}];return i.a.createElement("div",{className:"row baseBackground"},this.state.joyrideActive&&i.a.createElement(C.a,{disableBeacon:!1,autoStart:!0,locale:t,steps:e,continuous:!0,run:this.state.shouldRun,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,scrollToSteps:!0,disableCloseOnEsc:!0,disableOverlay:!1,disableOverlayClicks:!1,keyboardNavigation:!0,hideBackButton:!1,disableOverlayClose:!0,callback:this.callback,holePadding:0,shouldRun:this.state.shouldRun,styles:{options:{zIndex:1e5,primaryColor:"#50a8e2"}}}),i.a.createElement(l.Nav,{className:"topbar",style:{paddingLeft:"14px",height:"53px"}},i.a.createElement(l.NavItem,null),i.a.createElement(v.a,{position:"leftSide",className:"zocial GeriDon",style:{fontSize:"x-small"},label:"Geri",title:"\xd6nceki Sayfaya Git",onClick:()=>this.props.history.push({pathname:"/".concat(this.props.peykName,"/formcreation/")})}),i.a.createElement(v.a,{position:"leftSide",className:"zocial Yeni",style:{fontSize:"x-small"},label:"Yeni Olu\u015ftur",onClick:this.createClicked}),this.state.stop&&i.a.createElement("div",{className:"helpButtonContainer",position:"rightSide",style:{position:"inherit",right:"4.4em",marginTop:"1.4em"}},i.a.createElement("button",{className:"helpButton",onClick:()=>{this.activateJoyride()}},i.a.createElement("span",{className:"tooltipText"},"Size yard\u0131mc\u0131 olabilirim"),i.a.createElement("i",{className:"far fa-question-circle helpButtonIcon"})))),i.a.createElement("div",{className:"col-sm-12 satirBasi"},i.a.createElement("div",{className:"card-header"},i.a.createElement("h4",{className:"card-title"},"Form T\xfcr\xfc Listesi")),i.a.createElement("div",{className:"card-body"},i.a.createElement(g.a,{fields:[{label:"Form T\xfcr\xfc",accessor:"category",type:"text",operator:"="}],loading:this.state.searching,onSearch:this.handleSearch})),i.a.createElement("div",{className:"card-body"},i.a.createElement(r.a,{columns:a,content:this.state.content,loading:this.state.loading,total:this.state.total,page:this.state.page,manual:this.state.manual,size:this.state.size,options:["5","10","20","50","100"],fetchData:this.fetchData}))),this.state.alert,this.renderCreateUpdate(),!this.state.displayCreateUpdateDialog&&i.a.createElement(d.a,{ref:this.notify}))}}t.default=S}}]);