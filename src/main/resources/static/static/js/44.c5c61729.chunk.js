(this["webpackJsonpportal-react"]=this["webpackJsonpportal-react"]||[]).push([[44],{1492:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),l=a(19),o=(a(92),a(13)),r=a.n(o),n=a(2),c=(a(82),a(61)),d=a(3),m=a(5),h=a(9),p=a.n(h),u=a(6),f=a.n(u),b=a(16),g=a(12),y=a(174),S=a(176),v=a(21),E=a(4),k=a(100);class w extends s.Component{constructor(e){super(e),this.videos=[{title:"Form i\u015flemleri",id:"lTjRaQZI4_Y"}],this.switchVideo=e=>{this.setState({video:e,showVideos:!0})},this.callback=e=>{"close"===e.action&&"step:after"===e.type&&(this.setState({shouldRun:!1}),this.setState({flag:0})),"stop"!==e.action&&"reset"!==e.action&&"skip"!==e.action||(this.setState({shouldRun:!0}),this.setState({joyrideActive:!1}),this.setState({flag:0}),this.activateJoyride())},this.state={flag:0,formTypeList:[],joyrideActive:!1,list:[],loading:!1,loadingContent:"Y\xfckleme devam ediyor",locale:{back:"Geri",close:"Kapat",last:"Son",next:"\u0130leri",skip:"Atla"},manual:!1,page:0,pageNumber:0,pageSize:10,searchKey:"",searchQuery:void 0,searching:!1,selectedAll:!1,selectedFormIds:void 0!==this.props.location.selectedFormIds?this.props.location.selectedFormIds:[],selection:this.props.location.selectedFormSessions?this.props.location.selectedFormSessions:[],shouldRun:!0,showVideos:!1,size:10,steps:[{target:".card-title",content:"Form g\xf6nder ile ba\u015flatt\u0131\u011f\u0131n\u0131z b\xfct\xfcn form i\u015flemleri burada listelenmektedir. G\xf6nderim yapmak i\xe7in ilgili form i\u015flemini sar\u0131 renkte 'A\xe7' butonu ile a\xe7abilirsiniz. ",placement:"center"}],stop:null,total:0,video:null,width:window.innerWidth},this.deleteRow=this.deleteRow.bind(this),this.fetchData=this.fetchData.bind(this),this.isSelected=this.isSelected.bind(this),this.handleSearch=this.handleSearch.bind(this),this.toggleCheckboxChange=this.toggleCheckboxChange.bind(this),this.deleteSelected=this.deleteSelected.bind(this)}componentDidMount(){let e=this,t={url:"/formtype/readFormTypeAllWithSablonsuz",method:"get"};Object(m.e)(t).then((function(t){let a=void 0!==e.props.isISGU&&!0===e.props.isISGU?t.data.filter((function(e){return"ISGF"===e.category})):void 0!==e.props.isHealthForm&&!0===e.props.isHealthForm?t.data.filter((function(e){return"SA\u011eLIK FORMU"===e.category})):void 0!==e.props.isZimmet&&!0===e.props.isZimmet?t.data.filter((function(e){return"Z\u0130MMET"===e.category})):void 0!==e.props.isKVKK&&!0===e.props.isKVKK?t.data.filter((function(e){return"KVKK"===e.category})):t.data;e.setState({formTypeList:a})})).catch((function(e){Object(d.v)(e)}))}handleSearch(e){this.setState({searchQuery:e,searching:!0},()=>this.fetchData(this.state.accessor,this.state.direction,0,this.state.size))}searchWithKey(e){this.setState({searchKey:e.target.value,manual:!0})}activateJoyride(){!1===this.state.joyrideActive&&(this.setState({flag:0}),this.setState({joyrideActive:!0}),this.state.width<1e3&&this.setState({flag:1}))}fetchData(e,t,a,s){let i=this,l=e?"&sort="+e+","+t:"&sort=id,desc",o=i.state.searchQuery?"&"+i.state.searchQuery:"",r={url:(void 0!==this.props.isISGU&&!0===this.props.isISGU?"/formsession/readFormSessionsISGF?page=":void 0!==this.props.isHealthForm&&!0===this.props.isHealthForm?"/formsession/readFormSessionsHealth?page=":void 0!==this.props.isZimmet&&!0===this.props.isZimmet?"/formsession/readFormSessionsZimmet?page=":void 0!==this.props.isKVKK&&!0===this.props.isKVKK?"/formsession/readFormSessionsKvkk?page=":"/formsession/readFormSessions?page=")+a+"&size="+s+o+l,method:"get"};i.setState({loading:!0,searching:!0,manual:!0!==i.manual&&i.manual}),i.props.reload(!0),Object(m.e)(r).then((function(e){Object(d.e)(i,e.data.page),i.setState({page:a,size:s,total:e.data.page?e.data.page.totalElements:0,list:e.data.page?e.data.page.content:[],totalIdList:e.data?e.data.selectedIdList:[],loading:!1,searching:!1}),i.props.reload(!1)})).catch((function(e){i.setState({loading:!1,searching:!1}),i.props.reload(!1),Object(d.v)(e)}))}deleteRow(e){let t=this,a={url:"/formsession/deleteFormSession",method:"post",data:e.id};Object(m.e)(a).then((function(e){let a=e.data;t.setState({loading:!1,disabledDeleteBtn:!1,manual:!0,selected:null}),f.a.success(a,{position:"top-right",effect:"stackslide",timeout:5e3})})).catch((function(e){Object(d.v)(e),t.setState({loading:!1,disabledDeleteBtn:!1})}))}deleteSelected(){this.deleteList(this.state.selection)}deleteList(e){let t=this,a={url:"/formsession/deleteMultiFormSession",method:"post",data:e};Object(m.e)(a).then((function(e){t.setState({loading:!1,disabledDeleteBtn:!1,manual:!0,selected:null}),f.a.success("Se\xe7ilen kay\u0131tlar silindi.",{position:"top-right",effect:"stackslide",timeout:5e3})})).catch(e=>{Object(d.v)(e)}).finally(()=>{t.setState({loading:!1,disabledDeleteBtn:!1,selection:[]})})}isSelected(e){return-1!==this.state.selection.indexOf(e)}toggleCheckboxChange(e,t,a){let s=this,i=e.target.checked,l=s.state.list,o=s.state.selection;if("all"===t){let e=[];i&&l.forEach(t=>{e.push(t[a])}),s.setState({selection:e,selectedAll:i})}else{let e=o.indexOf(t[a]);e>=0?o=[...o.slice(0,e),...o.slice(e+1)]:o.push(t[a]),s.setState({selection:o,selectedAll:o.length>0&&o.length===s.state.list.length})}}render(){let e=this.state.steps,t=this.state.locale,a=[];this.state.list&&this.state.list instanceof Array&&this.state.list.map(e=>{a.push(e.id)});let s=[{Header:this.state.list&&i.a.createElement(k.a,{selectionIdList:this.state.selection,totalIdList:this.state.totalIdList,pageIdList:a,onChange:e=>this.setState({selection:e})}),accessor:"id",selectType:"checkbox",sortable:!1,Cell:(e,t)=>this.state.list&&i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("input",{type:"checkbox",checked:this.isSelected(e.id),onChange:a=>this.toggleCheckboxChange(a,e,"id",t)}))},{Header:"Form Ad\u0131",accessor:"formTemplate_formName",Cell:e=>i.a.createElement("div",{style:{margin:0,whiteSpace:"pre"}},i.a.createElement(b.a,{text:e.formTemplate&&e.formTemplate.formName,maxLength:41}))},{Header:"Form T\xfcr\xfc",accessor:"formTemplate_formType_category",Cell:e=>i.a.createElement("div",null,e.formTemplate&&e.formTemplate.formType&&e.formTemplate.formType.category)},{Header:"Onay Tipi",accessor:"formTemplate_isAnswerable",Cell:e=>i.a.createElement("div",{style:{margin:0}},i.a.createElement("span",{className:"isAnswerable",style:1===e.formTemplate.isAnswerable?{color:"#007acc"}:{color:1===e.formTemplate.isDecline?"#08c21d":"gray"}},1===e.formTemplate.isAnswerable&&1===e.formTemplate.isDecline?"Cevap Zorunlu - Reddedilebilir ":1===e.formTemplate.isAnswerable?"Cevap Zorunlu":0===e.formTemplate.isAnswerable&&1===e.formTemplate.isDecline?"Reddedilebilir":null))},{Header:"Form Say\u0131s\u0131",accessor:"formCount",width:"205px",Cell:e=>i.a.createElement("div",null,!!e.error&&i.a.createElement("div",{style:{margin:0}},i.a.createElement("span",{className:"text-danger"},e.error.toString().includes("\u0130\u015flem ger\xe7ekle\u015ftirilemedi.")?"\u0130\u015flem ger\xe7ekle\u015ftirilemedi.":e.error)),!e.error&&i.a.createElement("div",{style:{margin:0,textAlign:"center"}},void 0!==e.formCount&&null!==e.formCount?e.formCount:this.state.loadingContent))},{Header:"Olu\u015fturulma Zaman\u0131",accessor:"createdAt",Cell:e=>i.a.createElement("div",{style:{margin:0}},p()(e.createdAt).isValid()?p()(e.createdAt).format("DD-MM-YYYY HH:mm:ss"):"")},{Header:"Web Servis",accessor:"createdByWebservice",Cell:e=>i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("input",{type:"checkbox",checked:null!==e.createdByWebservice&&e.createdByWebservice,disabled:"disabled"}))},{Header:"\u0130\u015flemler",accessor:"",sortable:!1,Cell:e=>i.a.createElement("div",{style:{textAlign:"left"}},(Object(d.f)(this,E.w)||Object(d.f)(this,E.E)||Object(d.f)(this,E.B)||Object(d.f)(this,E.U)||Object(d.f)(this,E.G))&&i.a.createElement("button",{title:"A\xe7",className:"btn-icon btn btn-warning btn-sm",style:{margin:"0px 3px"},onClick:()=>this.props.history.push({pathname:`/${this.props.peykName}/formsession/${e.id}`})},i.a.createElement("i",{className:"BtnIcon fa fa-eye"})),e.signedCount<=0&&(Object(d.f)(this,E.v)||Object(d.f)(this,E.E)||Object(d.f)(this,E.D)||Object(d.f)(this,E.B)||Object(d.f)(this,E.A)||Object(d.f)(this,E.T)||Object(d.f)(this,E.U)||Object(d.f)(this,E.F)||Object(d.f)(this,E.G))&&i.a.createElement("button",{title:"Form D\xf6nemini Sil",className:"btn-icon btn btn-danger btn-sm",style:{margin:"0px 3px"},onClick:()=>{this.setState({alert:i.a.createElement(r.a,{showCancel:!0,warning:!0,confirmBtnText:"Evet",cancelBtnText:"Hay\u0131r",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Emin misiniz?",disabled:this.state.disabledDeleteBtn,onConfirm:()=>{this.setState({alert:null,loading:!0,disabledDeleteBtn:!0},()=>{this.deleteRow(e)})},onCancel:()=>this.setState({alert:null})},"Bildirim kayd\u0131 silinecek.")})}},i.a.createElement("i",{className:"now-ui-icons ui-1_simple-remove"})))}];const o=[{label:"Olu\u015fturulma Tarihi (Ba\u015flang\u0131\xe7)",accessor:"min_createdAt",type:"datetime",operator:">="},{label:"Olu\u015fturulma Tarihi (Biti\u015f)",accessor:"max_createdAt",type:"datetime",operator:"<="},{label:"Form Ad\u0131",accessor:"formTemplate_formName",type:"text",operator:"="},{label:"Form T\xfcr\xfc",accessor:"formTemplate_formType",type:"select",operator:"=",selectData:Object(g.t)(this.state.formTypeList)},{label:"\u015eablon \u0130\xe7eri\u011fi",accessor:"formTemplate_formContent",type:"text",operator:"="},{label:"Web Servis",accessor:"createdByWebservice",type:"boolean",operator:"="},{label:"Form Durumu",accessor:"formList_state",type:"select",operator:"=",selectData:Object(g.O)(this.state.isKepOwner)},{label:"\u0130mzas\u0131z G\xf6nderilmi\u015f Form",accessor:"formTemplate_withoutSign",type:"boolean",operator:"="}];return i.a.createElement("div",{className:"row baseBackground"},this.state.joyrideActive&&i.a.createElement(y.a,{disableBeacon:!1,autoStart:!0,locale:t,steps:e,continuous:!0,run:this.state.shouldRun,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,scrollToSteps:!0,disableCloseOnEsc:!0,disableOverlay:!1,disableOverlayClicks:!1,keyboardNavigation:!0,hideBackButton:!1,disableOverlayClose:!0,callback:this.callback,holePadding:0,shouldRun:this.state.shouldRun,styles:{options:{zIndex:1e5,primaryColor:"#50a8e2"}}}),i.a.createElement(n.Nav,{className:"topbar"},i.a.createElement("div",{style:{margin:"-3px 0 0 12px"}},Object(d.f)(this,E.w)&&i.a.createElement(v.a,{position:"leftSide",className:"zocial Gonder",label:"Form G\xf6nder",title:"Form G\xf6nderimi i\xe7in t\u0131klay\u0131n\u0131z",disabled:null==this.state.selection||1!=this.state.selection.length,style:{fontSize:"x-small"},onClick:()=>this.props.history.push({pathname:`/${this.props.peykName}/formsession/${this.state.selection[0]}`})}),Object(d.f)(this,E.w)&&i.a.createElement(v.a,{position:"leftSide",className:"zocial TopluGonder",label:"Toplu Form G\xf6nder",title:"Farkl\u0131 form d\xf6nemlerine ait formlar\u0131 g\xf6ndermek i\xe7in t\u0131klay\u0131n\u0131z",style:{fontSize:"x-small"},disabled:null==this.state.selection||this.state.selection.length<2,onClick:()=>this.props.history.push({pathname:`/${this.props.peykName}/multiSessionForms`,selectedFormSessions:this.state.selection,selections:this.state.selectedFormIds})}),Object(d.f)(this,E.w)&&i.a.createElement(v.a,{position:"leftSide",className:"zocial Sil",label:"Se\xe7ilenleri Sil",title:"Se\xe7ilen Formlar\u0131 Sil",disabled:!(this.state.selection&&this.state.selection.length>0),style:{fontSize:"x-small"},onClick:()=>{this.setState({alert:i.a.createElement(r.a,{showCancel:!0,warning:!0,confirmBtnText:"Evet",cancelBtnText:"Hay\u0131r",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Emin misiniz?",onConfirm:()=>{this.setState({alert:null,loading:!0,disabledDeleteBtn:!0},()=>{this.deleteSelected()})},onCancel:()=>this.setState({alert:null})},"Sadece pdf olu\u015fturuldu durumundaki kay\u0131tlar silinecektir.")})}})),i.a.createElement("ul",{className:"helpfulList"},i.a.createElement("li",{className:"helpButtonContainer",position:"rightside"},i.a.createElement("button",{className:"helpButton",onClick:()=>{this.activateJoyride()}},i.a.createElement("span",{className:"tooltipText"},"Size yard\u0131mc\u0131 olabilirim"),i.a.createElement("i",{className:"far fa-question-circle helpButtonIcon"}))),this.state.stop&&i.a.createElement("li",{className:"nav-item dropdown  videoIconContainer"},i.a.createElement("button",{className:"nav-link  videoIconButton","data-toggle":"dropdown","aria-haspopup":"true",id:"navbarDropdownMenuLink","aria-expanded":"false"},i.a.createElement("span",{className:"tooltipText"},"Yardimci Videolar"),i.a.createElement("i",{className:"fab fa-youtube videoIcon"})),i.a.createElement("div",{className:"dropdown-menu dropdown-menu-right",id:"showVideos","aria-labelledby":"videosLink"},this.videos.map((e,t)=>i.a.createElement("a",{key:t,className:"dropdown-item",onClick:()=>this.switchVideo(e)},e.title)))))),i.a.createElement("div",{className:"row satirBasi"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-header "},i.a.createElement("h4",{className:"card-title"},"Form \u0130\u015flemleri")),i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:""},i.a.createElement("div",{className:"",style:{marginTop:"10px",marginBottom:"0px"}},i.a.createElement(c.a,{fields:o,loading:this.state.loading,onSearch:this.handleSearch})))),i.a.createElement("div",{className:"card-body"},i.a.createElement(l.a,{columns:s,content:this.state.list,loading:this.state.loading,total:this.state.total,page:this.state.page,manual:this.state.manual,size:this.state.size,options:["5","10","20","50","100"],fetchData:this.fetchData}))))),this.state.alert,this.state.showVideos&&i.a.createElement(S.a,{video:this.state.video,isOpen:this.state.showVideos,close:()=>this.setState({showVideos:!1})}))}}t.default=w}}]);
//# sourceMappingURL=44.c5c61729.chunk.js.map