(this["webpackJsonpportal-react"]=this["webpackJsonpportal-react"]||[]).push([[20],{1322:function(e,t,a){"use strict";var s=a(0),l=a.n(s),r=a(23);class n extends s.Component{constructor(e){super(e),this.formatCreateLabelCreator=e=>this.props.allowNew?'Ekle "'+e+'"':"L\xfctfen, var olan bir "+this.props.name+" se\xe7imi yap\u0131n\u0131z.",this.state={},this.changeLabel=this.changeLabel.bind(this),this.createLabel=this.createLabel.bind(this),this.checkUpperCase=this.checkUpperCase.bind(this),this.generateOptions=this.generateOptions.bind(this)}changeLabel(e){this.props.onChange(this.checkUpperCase(e))}createLabel(e){if(this.props.allowNew){let t=this.props.list;if(0===t.length){let a;a=this.props.onlyLabel?{value:this.checkUpperCase(e.label),label:this.checkUpperCase(e.label)}:{value:"0",label:this.checkUpperCase(e.label)},t.push(a),this.props.updateList(t),this.changeLabel(a)}else{let a=t.length-1,s=t[a];if(this.props.onlyLabel)if(s.value===this.checkUpperCase(e.label))t[a].label=this.checkUpperCase(e.label),this.props.updateList(t),this.changeLabel(t[a]);else{let a={value:this.checkUpperCase(e.label),label:this.checkUpperCase(e.label)};t.push(a),this.props.updateList(t),this.changeLabel(a)}else if("0"===s.value)t[a].label=this.checkUpperCase(e.label),this.props.updateList(t),this.changeLabel(t[a]);else{let a={value:"0",label:this.checkUpperCase(e.label)};t.push(a),this.props.updateList(t),this.changeLabel(a)}}}}checkUpperCase(e){return e&&this.props.useUpperCase&&(null!=e.value&&e.label?e.label=e.label.toString().replace("i","\u0130").toUpperCase():e=e.toString().replace("i","\u0130").toUpperCase()),e}generateOptions(){let e=[];return this.props.list&&this.props.list.length>0&&this.props.list.map(t=>{e.push({value:t.value,label:this.checkUpperCase(t.label)})}),e}render(){let e=this.generateOptions();return l.a.createElement(r.a.Creatable,{clearable:!1,multi:!1,className:"select-control",name:"autoCompleteList",id:"autoCompleteList",value:this.props.value,placeholder:this.props.placeholder,promptTextCreator:this.formatCreateLabelCreator,noResultsText:"Hen\xfcz kaydedilmi\u015f veri yok",onChange:e=>this.changeLabel(e),onNewOptionClick:e=>this.createLabel(e),options:e})}}n.defaultProps={allowNew:!0,useUpperCase:!1,onlyLabel:!1,updateList:e=>{}},t.a=n},1504:function(e,t,a){},1620:function(e,t,a){"use strict";a.r(t);var s,l=a(0),r=a.n(l),n=a(2),i=(a(1503),a(21)),o=a(3),m=a(5),c=a(6),p=a.n(c),d=a(1322),h=a(1415),u=a(222),y=(a(1504),a(430)),f=a(38),b=a.n(f),v=a(537),g=a(166),C=a.n(g),E=a(245),w=a(536),k=a(20),F=a.n(k),S=a(205),N=a(208),x=a(206),L=a(393),O=a.n(L),T=a(391),P=a.n(T),R=a(148),D=a(1252),z=(a(664),a(1505)),A=a(129),B=a.n(A),U=a(44),j=a(298);const I=e=>{let{mainState:t}=e;return void 0===t.currentDocument.fileData&&(t.currentDocument.fileData=t.currentDocument.uri),void 0===t.currentDocument.fileType&&(t.currentDocument.fileType="application/pdf"),t.currentDocument.uri="Document",r.a.createElement(R.PDFProvider,{mainState:t},r.a.createElement(D.a,{id:"pdf-renderer","data-testid":"pdf-renderer"},r.a.createElement(O.a,null),r.a.createElement(z.b,{defaultScale:1,defaultPositionX:200,defaultPositionY:100,options:{disabled:!0}},r.a.createElement(z.a,null,r.a.createElement(P.a,null)))))};I.fileTypes=["pdf","application/pdf"],I.weight=0;const M=e=>{let{mainState:{currentDocument:t}}=e,a=t.uri.split(",")[0].split(";")[1].replace("name=","");return r.a.createElement(V,{id:"msdoc-renderer"},r.a.createElement("p",null,"Bu bir Microsoft Ofis dosyas\u0131d\u0131r. Dosya i\xe7eri\u011fini g\xf6r\xfcnt\xfclemek istiyorsan\u0131z dosyay\u0131 a\u015fa\u011f\u0131daki linkten indirip Microsoft Office uygulamas\u0131 ile a\xe7\u0131n\u0131z."),r.a.createElement("p",null,r.a.createElement("a",{href:t.uri,download:a},"\u0130ndir")))},J={doc:["doc","application/msword"],docx:["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],xls:["xls","application/vnd.ms-excel"],xlsx:["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ppt:["ppt","application/vnd.ms-powerpoint"],pptx:["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"]};M.fileTypes=[...J.doc,...J.docx,...J.xls,...J.xlsx,...J.ppt,...J.pptx],M.weight=0,M.fileLoader=e=>{let{fileLoaderComplete:t}=e;return t()};const V=U.default.div(s||(s=Object(v.a)(["\n  width: 100%;\n  height: 100%;\n"]))),G={imageFileChooserWidget:S.a,linkWidget:N.a,fileChooserWidget:x.a};class Y extends l.Component{constructor(e){super(e),this.onFocus=e=>{this.setState({menuIsOpen:!0})},this.handleSelectedAttachmentChange=(e,t)=>{let{action:a}=t;this.setState({selectedAttachment:e,menuIsOpen:!1})},this.toggleSetting=e=>{this.setState(t=>({[e]:!t[e],activateZoom:!this.state.activateZoom}))},this.myRef=r.a.createRef(),this.state={numPages:null,pageNumber:1,scale:1.2,activateZoom:!1,showAnimationArrows:!1,page:1,scrollTop:0,disabled:!0,enableWheel:!1,surveyFormModal:!1,surveyFormButton:!1,surveyForm:null,surveyFormResponse:null,surveyAttachments:[],selectedAttachment:"",viewer:!1,menuIsOpen:!1},this.onDocumentLoad=this.onDocumentLoad.bind(this),this.onClickAttachments=this.onClickAttachments.bind(this),this.cancelShowSurveyForm=this.cancelShowSurveyForm.bind(this),this.getSurveyFormResponse=this.getSurveyFormResponse.bind(this),this.getSurveyForm=this.getSurveyForm.bind(this),this.handleSelectedAttachmentChange=this.handleSelectedAttachmentChange.bind(this),this.showViewer=this.showViewer.bind(this),this.closeViewer=this.closeViewer.bind(this),this.onFocus=this.onFocus.bind(this)}showViewer(){let e=this;""!==e.state.selectedAttachment?e.setState({viewer:!0}):F.a.fire({title:"Uyar\u0131 ! ",html:"G\xf6r\xfcnt\xfclemek istedi\u011finiz dok\xfcman\u0131 se\xe7iniz!",icon:"warn",confirmButtonText:"Tamam"})}closeViewer(){this.setState({viewer:!1})}componentDidMount(){this.getSurveyFormResponse()}getSurveyFormResponse(){let e=this;if(e.props.documentId){let t={url:"/survey/getSurveyFormResponseByFormId",method:"post",data:e.props.documentId};Object(m.e)(t).then((function(t){if(e.setState({surveyFormResponse:t.data}),null!==e.state.surveyFormResponse&&""!==e.state.surveyFormResponse){let t=JSON.parse(""==e.state.surveyFormResponse.response?"{}":e.state.surveyFormResponse.response),a=Object.keys(t).filter((function(e){return JSON.stringify(t[e]).includes("data:image")||JSON.stringify(t[e]).includes("data:application")})),s=[];a.map(e=>{s.push({value:e,label:e})}),e.setState({surveyAttachments:s}),e.getSurveyForm()}})).catch((function(e){Object(o.v)(e)}))}}getSurveyForm(){let e=this,t={url:"/survey/getSurveyForm",method:"post",data:e.state.surveyFormResponse.surveyId};Object(m.e)(t).then((function(t){e.setState({surveyForm:t.data,surveyFormButton:!0}),e.props.isSurveyFormTrue()})).catch((function(e){Object(o.v)(e)}))}cancelShowSurveyForm(){this.setState({surveyFormModal:!1})}onDocumentLoad(e){let{numPages:t}=e;this.setState({numPages:t,flag:!0})}onClickAttachments(){this.setState({surveyFormModal:!0})}render(){return r.a.createElement("div",{style:{height:"700px"}},r.a.createElement("div",null,r.a.createElement(j.a,null,this.state.surveyFormButton&&r.a.createElement(n.Button,{className:"pdfZoomButtons",title:"Formu G\xf6ster",onClick:this.onClickAttachments}," ","Formu G\xf6ster"),this.state.surveyFormButton&&r.a.createElement(n.Button,{className:"pdfZoomButtons",title:"Formu G\xf6ster",onClick:this.props.showBarcodeList}," Barkodlar")),r.a.createElement(j.a,null,this.props.url&&r.a.createElement(B.a,{style:{width:"100%"},documents:[{uri:this.props.url}],pluginRenderers:[I,A.BMPRenderer,A.HTMLRenderer,A.JPGRenderer,M,A.MSGRenderer,A.PNGRenderer,A.TIFFRenderer,A.TXTRenderer],config:{header:{disableHeader:!0,disableFileName:!0}}}))),r.a.createElement("div",{id:"positionOfScroll"},r.a.createElement(n.Modal,{isOpen:this.state.surveyFormModal,size:"lg",className:"ust"},r.a.createElement(n.ModalHeader,{toggle:this.cancelShowSurveyForm},""!=this.state.surveyForm&&null!==this.state.surveyForm?JSON.parse(this.state.surveyForm.jsonContent).name:""),r.a.createElement(n.ModalBody,{style:{overflow:"visible"}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body",style:{margin:"0px 16px 16px 16px"}},r.a.createElement(C.a,{schema:""!=this.state.surveyForm&&null!==this.state.surveyForm?JSON.parse(this.state.surveyForm.jsonContent).schema:"",uiSchema:""!=this.state.surveyForm&&null!==this.state.surveyForm?JSON.parse(this.state.surveyForm.jsonContent).uiSchema:"",formData:""!=this.state.surveyFormResponse&&null!=this.state.surveyFormResponse?JSON.parse(this.state.surveyFormResponse.response):"",disabled:!0,children:r.a.createElement("br",null),widgets:G}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-3 row align-items-center"},r.a.createElement(n.Label,null,"Dok\xfcman Listesi")),r.a.createElement("div",{className:"col-sm-5 row align-items-center"},r.a.createElement(E.a,{className:"col-sm-12",clearable:!1,value:this.state.selectedAttachment,placeholder:"Se\xe7iniz...",onChange:this.handleSelectedAttachmentChange,onFocus:this.onFocus,menuIsOpen:this.state.menuIsOpen,options:this.state.surveyAttachments,noOptionsMessage:()=>"Eklenen Dok\xfcman Bulunamad\u0131!"})),r.a.createElement("div",{className:"col-sm-2 row align-items-center"},r.a.createElement(n.Button,{type:"button",onClick:this.showViewer},"G\xf6r\xfcnt\xfcle")))))))),this.state.viewer&&r.a.createElement(w.a,{closeViewer:this.closeViewer,attachment:JSON.parse(this.state.surveyFormResponse.response)[this.state.selectedAttachment.value]})))}}var Z=Y;class H extends l.Component{constructor(e){super(e),this.editTemplate=(e,t)=>{let a,s=this.props.location.selectedForm,l={value:s.formType.id,label:s.formType.category},r={id:s.id,formName:s.formName,mimeBody:s.mimeBody,isAnswerable:s.isAnswerable,isDecline:s.isDecline,imported:s.imported},n=JSON.parse(s.formParams);if(s.formContent){a=s.formContent;let e=(new TextEncoder).encode(s.formContent),t=1024,l="";for(let a=0;a<e.length;a+=t)l+=String.fromCharCode.apply(null,e.slice(a,a+t));s.formContent=btoa(l)}Object(m.e)({url:"/formtemplate/previewTemplateContent",responseType:"arraybuffer",method:"post",data:s.id}).then(a=>{let s=new Blob([a.data],{type:a.headers["content-type"]}),i="";if(void 0!==s){let e=new FileReader;e.readAsDataURL(s),e.onloadend=function(){i=e.result}}this.setState({formType:l,template:r,preview:i,loading:!1,parameters:t.filter(e=>!n.internalList.includes(e.label)),formTypeList:e,internalParameters:t,includedParameters:[...n.internalList,...n.externalList]})}).catch(e=>{Object(o.v)(e)}).finally((function(){void 0!==a&&(s.formContent=a)}))},this.isValid=()=>{let e=this.state.formType,t=this.state.template;t.formType=null==e?null:{id:e.value?parseInt(e.value):null,category:e.label};let a=Object.assign({},t);return a.file=this.state.file,Object(u.d)(a)},this.saveClicked=()=>{let e=this,t=this.isValid();if(t.valid){let t=this.state.formType,a=this.state.template;a.formType={id:t.value?parseInt(t.value):null,category:t.label},a.isAnswerable=a.isAnswerable?1:0,a.isDecline=a.isDecline?1:0;let s={internalList:this.state.includedParameters.filter(e=>this.isInternal(e)),externalList:this.state.includedParameters.filter(e=>!this.isInternal(e))};a.formParams=JSON.stringify(s),this.setState({loading:!0});let l=new FormData;l.append("file",this.state.file),l.append("template",JSON.stringify(a)),Object(m.e)({url:"/formtemplate/save",method:"post",data:l}).then(()=>{p.a.success("Form \u015eablonu ba\u015far\u0131l\u0131 \u015fekilde aktar\u0131ld\u0131.",{position:"top-right",effect:"stackslide",timeout:3e3,onClose:()=>this.props.history.push({pathname:"/".concat(this.props.peykName,"/formtemplate/")})})}).catch(t=>{Object(o.v)(t),e.setState({loading:!1})})}else p.a.error(t.errorMessage,{position:"top-right",effect:"stackslide",timeout:5e3})},this.onDrop=(e,t)=>{if(e){let t=e[0];this.setState({file:t,loading:!0});let a=new FormData;a.append("file",t),Object(m.e)({url:"/formtemplate/preview",responseType:"arraybuffer",method:"post",data:a}).then(e=>{let t=new Blob([e.data],{type:e.headers["content-type"]}),a=(window.URL||window.webkitURL).createObjectURL(t);this.setState({preview:a,loading:!1})}).catch(e=>{Object(o.v)(e),this.setState({loading:!1})})}},this.downloadParameters=()=>{Object(m.e)({url:"/formtemplate/parameters",method:"post",data:this.state.includedParameters,responseType:"arraybuffer"}).then(e=>{let t=new Blob([e.data],{type:e.headers["content-type"]}),a=(window.URL||window.webkitURL).createObjectURL(t),s=document.createElement("a");document.body.appendChild(s),s.style="display: none",s.href=a,s.download="form-parameters.mdb",s.click(),this.setState({alert:null})}).catch(e=>{Object(o.v)(e)})},this.renderEditorComponent=()=>r.a.createElement("div",null,r.a.createElement(n.CardBody,{row:"true"},r.a.createElement("div",{className:"FormRenk",style:{marginBottom:"0px",left:"50px"}},r.a.createElement(n.Form,null,r.a.createElement(n.Row,null,r.a.createElement(n.Col,{sm:8},r.a.createElement(h.a,{className:this.editClassName("formType")},r.a.createElement(n.Label,{sm:2},"Form T\xfcr\xfc"),r.a.createElement(n.Col,{sm:10},r.a.createElement(d.a,{name:"Form T\xfcr\xfc",useUpperCase:!0,onlyLabel:!1,list:this.state.formTypeList,value:this.state.formType,onChange:e=>this.onChangeOnFormType(e),updateList:e=>this.setState({formTypeList:e}),placeholder:"Form T\xfcr\xfc Se\xe7iniz veya Form T\xfcr\xfc Ad\u0131 Yaz\u0131n\u0131z..."}))),r.a.createElement(h.a,{className:this.editClassName("formName")},r.a.createElement(n.Label,{sm:2},"Form Ad\u0131"),r.a.createElement(n.Col,{sm:10},r.a.createElement(n.Input,{type:"text",name:"formName",value:this.state.template.formName,onChange:e=>this.onChange("formName",e.target.value)}))),r.a.createElement(h.a,{className:this.editClassName("mimeBody")},r.a.createElement(n.Label,{sm:2},"\u0130leti \u0130\xe7eri\u011fi"),r.a.createElement(n.Col,{sm:10},r.a.createElement(n.Input,{type:"textarea",name:"mimeBody",rows:5,value:this.state.template.mimeBody,style:{height:"200px",border:"1px solid #E3E3E3",marginTop:"2px",padding:"3px 3px"},onChange:e=>this.onChange("mimeBody",e.target.value)})))),r.a.createElement(n.Col,{sm:4},r.a.createElement(h.a,{className:this.editClassName("isAnswerable")},r.a.createElement(n.Label,{sm:4},"Cevap Verilebilir"),r.a.createElement(n.Col,{sm:8},r.a.createElement(n.Input,{type:"checkbox",name:"isAnswerable",style:{marginTop:"6px"},checked:this.state.template.isAnswerable||"",onChange:e=>this.onChange("isAnswerable",e.target.checked)})))))))),r.a.createElement(n.CardBody,{row:"true"},r.a.createElement("div",{className:"FormRenk",style:{marginBottom:"20px",left:"50px"}},this.renderAllParameters(),r.a.createElement("br",null),0===this.state.includedParameters.length&&r.a.createElement(y.a,{accept:".mdb",className:"FormRenk col-sm-12",activeClassName:"dropzoneActiveClass",multiple:!1,onDrop:this.onMdbDrop},r.a.createElement("div",{className:"dropzoneInnerArea"},"Varolan parametre dosyan\u0131z\u0131 aktarmak i\xe7in (.mdb ) y\xfckleyiniz.")),this.state.includedParameters.length>0?this.renderIncludedParameters():r.a.createElement("ul",null,r.a.createElement("li",null,"Formunuzu g\xf6nderim \xf6ncesi g\xfcncelleyebilece\u011finiz parametreleri ister listeden se\xe7in; ister se\xe7im k\u0131sm\u0131na yazarak ekleyin."),r.a.createElement("li",null,"Listede otomatik olarak de\u011fi\u015ftirilebilenler yer almaktad\u0131r."),r.a.createElement("li",null,"Sizin ekledikleriniz ise \xfcretim s\u0131ras\u0131nda sizin taraf\u0131n\u0131zdan doldurulacakt\u0131r."),r.a.createElement("li",null,"Firma i\xe7in kullan\u0131d\u0131\u011f\u0131n\u0131z parametreleri ",r.a.createElement("a",{href:"#",onClick:()=>this.props.history.push({pathname:"/".concat(this.props.peykName,"/formparameter")})},"Firma Parametreleri")," men\xfcs\xfcnden g\xfcncelleyebilirsiniz.")))),r.a.createElement(n.CardBody,{row:"true",style:{marginTop:"-10px"}},r.a.createElement(n.Row,null,r.a.createElement(n.Col,{sm:12},this.renderDropzone())),r.a.createElement(n.Row,null,r.a.createElement(n.Col,{sm:12},this.state.preview&&this.renderPreview())))),this.onMdbDrop=e=>{this.setState({loading:!0});let t=new FormData;t.append("file",e[0]),Object(m.e)({url:"/formtemplate/importParameters",method:"post",data:t}).then(e=>{this.setState({includedParameters:e.data,loading:!1})}).catch(e=>{Object(o.v)(e)})},this.renderAllParameters=()=>r.a.createElement(d.a,{name:"Form parametresi",useUpperCase:!1,onlyLabel:!1,list:this.state.parameters,value:null,onChange:e=>this.handleIncludeParameter(e.label),updateList:e=>{e.filter(e=>!this.state.parameters.includes(e)).map(e=>this.handleIncludeParameter(e))},placeholder:"Form parametresi Se\xe7iniz veya Form parametresi Ad\u0131 Yaz\u0131n\u0131z..."}),this.handleIncludeParameter=e=>{let t=this.state.parameters.filter(t=>t.label!==e);this.setState(a=>({parameters:t,includedParameters:[...a.includedParameters,e]}))},this.renderIncludedParameters=()=>r.a.createElement("div",null,r.a.createElement("div",{className:"FormRenk"},r.a.createElement("h4",{className:"card-title"},"Form Parametreleri"),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("label",{style:{backgroundColor:"orange"}},"\u0130\xe7 Parametreler")," PEYK taraf\u0131ndan bilinen otomatik olarak eklenecek olan parametrelerdir.(Firma parametreleri dahildir.)"),r.a.createElement("p",null,r.a.createElement("label",{style:{backgroundColor:"grey"}},"Dis Parametreler")," Form olu\u015fturulmas\u0131 s\u0131ras\u0131nda kullan\u0131c\u0131 taraf\u0131ndan eklenecek parametreler.")),this.state.includedParameters.map((e,t)=>r.a.createElement("button",{key:t,className:"included-params",type:"button",style:{backgroundColor:this.isInternal(e)?"orange":"grey"},onClick:()=>this.handleExcludeParameter(e)},r.a.createElement("label",null,e)))),r.a.createElement(i.a,{position:"leftSide",className:"zocial Download",disabled:this.state.loading,style:{fontSize:"x-small"},label:"Parametreleri \u0130ndir",title:"Parametreler",onClick:this.downloadParameters})),this.isInternal=e=>this.state.internalParameters.map(e=>e.value).includes(e),this.handleExcludeParameter=e=>{let t=this.state.includedParameters.filter(t=>t!==e);this.setState(a=>({parameters:[...a.parameters,{label:e,value:e}],includedParameters:t}))},this.renderDropzone=()=>null!==this.state.file?r.a.createElement("div",{className:"FormRenk",style:{marginBottom:"0px",left:"50px",padding:" 15px 15px 30px 30px"}},r.a.createElement("div",null,r.a.createElement(n.Label,{className:"label",style:{padding:" 0 0 0 10px"}},this.state.file.name),r.a.createElement("button",{type:"button",onClick:()=>{if(this.setState({file:null,preview:null}),this.state.template.id){let e;if(this.state.template.formContent){e=this.state.template.formContent;let t=(new TextEncoder).encode(this.state.template.formContent),a=1024,s="";for(let e=0;e<t.length;e+=a)s+=String.fromCharCode.apply(null,t.slice(e,e+a));this.state.template.formContent=btoa(s)}Object(m.e)({url:"/formtemplate/previewTemplateContent",responseType:"arraybuffer",method:"post",data:this.state.template.id}).then(e=>{let t=new Blob([e.data],{type:e.headers["content-type"]}),a="";if(void 0!==t){let e=new FileReader;e.readAsDataURL(t),e.onloadend=function(){a=e.result}}this.setState({preview:a,loading:!1})}).catch(e=>{Object(o.v)(e)}).finally((function(){void 0!==e&&(this.state.template.formContent=e)}))}},"data-toggle":"tooltip","data-placement":"bottom",title:"Sil",rel:"tooltip",className:"Btn btn-icon remove-btn"},r.a.createElement("i",{className:"BtnIcon fa fa-remove remove-btn"})))):r.a.createElement(y.a,{accept:".doc,.docx",className:"FormRenk col-sm-12",activeClassName:"dropzoneActiveClass",style:{},multiple:!1,onDrop:this.onDrop},r.a.createElement("div",{className:"dropzoneInnerArea"},!this.state.template.id&&"Form \u015eablon dosyas\u0131n\u0131 (.docx ) y\xfckleyiniz.",this.state.template.id&&"Form \u015eablon dosyas\u0131n\u0131 de\u011fi\u015ftirmek (.docx ) y\xfckleyiniz. Yoksa mevcut dosyan\u0131z duracakt\u0131r.")),this.renderPreview=()=>r.a.createElement("div",{className:"col-sm-12",style:{marginTop:"10px",marginBottom:"10px",top:0,left:0}},r.a.createElement(Z,{url:this.state.preview})),this.state={loading:!1,valid:{},formType:null,template:{id:null,formName:"",mimeBody:"",isAnswerable:!1,isDecline:!1,imported:!0},file:null,fileName:null,preview:null,formTypeList:[],parameters:[],internalParameters:[],includedParameters:[]},this.onDrop=this.onDrop.bind(this),this.onChange=this.onChange.bind(this),this.onChangeOnFormType=this.onChangeOnFormType.bind(this)}componentDidMount(){let e=this;Object(m.e)({url:"/formtemplate/getList",method:"post"}).then((function(t){let{formTypeList:a,formParameters:s}=t.data,l=Object.keys(s).map(e=>({label:e,value:e}));e.props.location.selectedForm?e.editTemplate(a,l):e.setState({formTypeList:a,parameters:l,internalParameters:l})})).catch((function(e){Object(o.v)(e)}))}editClassName(e){let t=this.state.valid[e];return"boolean"!==typeof t?void 0:t?"has-success":"has-danger"}onChange(e,t){let a=this.state.template;t&&"isAnswerable"===e&&(t=1),t||"isAnswerable"!==e||(t=0),t&&"isDecline"===e&&(t=1),t||"isDecline"!==e||(t=0),a[e]=t,this.setState({template:a})}onChangeOnFormType(e){this.setState({formType:e})}render(){return r.a.createElement("div",{className:"row baseBackground"},r.a.createElement(n.Nav,{className:"topbar",style:{paddingLeft:"14px",height:"53px"}},r.a.createElement(i.a,{position:"leftSide",className:"zocial GeriDon",style:{fontSize:"x-small"},label:"Geri",title:"\xd6nceki Sayfaya Git",onClick:()=>this.props.history.push({pathname:"/".concat(this.props.peykName,"/formtemplate/")})}),r.a.createElement(i.a,{position:"leftSide",className:"zocial Kaydet",disabled:this.state.loading||!this.isValid().valid,style:{fontSize:"x-small",backgroundColor:"forestgreen"},label:"Formu Kaydet",title:"Formu Kaydet",onClick:this.saveClicked})),r.a.createElement("div",{className:"col-sm-12 satirBasi"},r.a.createElement("div",{className:"card-header "},r.a.createElement("h4",{className:"card-title"},"Form \u015eablonu Y\xfckle")),!this.state.loading&&this.renderEditorComponent(),this.state.loading&&r.a.createElement(b.a,{type:"spinningBubbles",style:{width:"70px",height:"70px",margin:"20px auto 0 auto",fill:"#888"}})))}}t.default=H}}]);