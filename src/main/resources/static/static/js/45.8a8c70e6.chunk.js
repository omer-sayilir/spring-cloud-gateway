(this["webpackJsonpportal-react"]=this["webpackJsonpportal-react"]||[]).push([[45],{1586:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),n=a(2),l=a(19),o=a(15),r=a(3),d=a(5),m=a(12),c=a(21),h=a(6),p=a.n(h),u=a(13),f=a.n(u),g=a(1358),S=a(46),y=a(335),b=a(52),E=a(176),w=a(178),v=a(75),k=a(9),B=a.n(k),C=a(4),N=a(159),T=a.n(N),I=a(38),O=a.n(I),x=a(81),L=a(61),z=a.n(L),A=a(177);class D extends s.Component{constructor(e){super(e),this.videos=[{title:"Form i\u015flem kayd\u0131 bilgileri",id:"lTjRaQZI4_Y"}],this.switchVideo=e=>{this.setState({video:e,showEczaciHelpModal:!0})},this.updateDimensions=()=>{this.setState({width:window.innerWidth})},this.readTitleAll=()=>{let e=this;Object(d.e)({url:"/employeecustom/readTitleAll",method:"get"}).then((function(t){e.setState({titleList:t.data})})).catch((function(e){}))},this.sessionAndEmployeeListChecker=e=>{let t=this,a={url:"/employee/sessionChecker",method:"post",data:{sessionId:e,type:"form"},timeout:18e4};Object(d.e)(a).then((function(e){"string"!==typeof e.data&&t.setState({unloadedEmployeesLength:e.data})})).catch((function(e){}))},this.readSmsTemplate=()=>{let e=this;Object(d.e)({url:"/signer/readFormSmsTemplateInfo",method:"get"}).then((function(t){e.setState({smsBody:t.data})})).catch((function(e){Object(r.v)(e)}))},this.isNoTemplateValid=()=>""===this.state.mimeTitle.trim()?(p.a.error("E-Posta \u0130leti Konusu alan\u0131 bo\u015f b\u0131rak\u0131lamaz.",{position:"top-right",effect:"stackslide",timeout:5e3}),this.setState({alert:null}),!1):""===this.state.mimeBody.trim()?(p.a.error("E-Posta \u0130leti \u0130\xe7eri\u011fi alan\u0131 bo\u015f b\u0131rak\u0131lamaz.",{position:"top-right",effect:"stackslide",timeout:5e3}),this.setState({alert:null}),!1):""!==this.state.smsBody.trim()||(p.a.error("SMS \u0130leti \u0130\xe7eri\u011fi alan\u0131 bo\u015f b\u0131rak\u0131lamaz.",{position:"top-right",effect:"stackslide",timeout:5e3}),this.setState({alert:null}),!1),this.callback=e=>{"close"===e.action&&"step:after"===e.type&&(this.setState({shouldRun:!1}),this.setState({flag:0})),"stop"!==e.action&&"reset"!==e.action&&"skip"!==e.action||(this.setState({shouldRun:!0}),this.setState({joyrideActive:!1}),this.setState({flag:0}),this.activateJoyride())},this.isNotEminEczanesi=()=>!!this.props.currentUser&&!!this.props.currentUser.vknTckn&&"3470304270"!==this.props.currentUser.vknTckn,this.state={pageStatus:0,alert:null,selection:[],formSessionId:null,pageNumber:0,pageSize:10,loading:!1,pdfName:"",signError:!1,completed:!1,signedDocumentCount:0,progressLength:1,pageState:0,selectedFormIdList:[],timer:1,timerStarted:!1,certError:!0,manual:!1,content:[],toBeSentList:[],total:0,searching:!1,searchQuery:void 0,page:0,size:10,searchKey:"",isKepOwner:!1,isHsmOwner:!1,send:!0,reloadCalled:!1,showOnlySents:!1,formState:!1,steps:[{target:".card-title",content:"Se\xe7mi\u015f oldu\u011funuz form ile ilgili d\xfczenlemeleri bu sayfada yapabilirsiniz",placement:"center"},{target:"button.zocial.Gonder",content:"Uyar\u0131 g\xf6nderme i\u015flemlerinizi buradan yapabilirsiniz",placement:"auto"},{target:"button.MenuBtn2.listt ",content:"A\xe7\u0131l\u0131r men\xfcden di\u011fer i\u015flemleri ger\xe7ekle\u015ftirebilirsiniz",placement:"auto"}],locale:{back:"Geri",close:"Kapat",last:"Son",next:"\u0130leri",skip:"Atla"},joyrideActive:!1,shouldRun:!0,width:window.innerWidth,flag:0,showEczaciHelpModal:!1,video:null,stop:null,temporaryRow:"",showDownloadButton:!1,showManuelSign:!1,unloadedEmployeesLength:0,formInteractionInProgress:!1,checkFormState:!0,creditLoading:!1},this.sign=this.sign.bind(this),this.hsmSign=this.hsmSign.bind(this),this.preview=this.preview.bind(this),this.getList=this.getList.bind(this),this.mimeSign=this.mimeSign.bind(this),this.fetchData=this.fetchData.bind(this),this.kepPdfSign=this.kepPdfSign.bind(this),this.isHsmOwner=this.isHsmOwner.bind(this),this.isKepOwner=this.isKepOwner.bind(this),this.mailPdfSign=this.mailPdfSign.bind(this),this.editReceiver=this.editReceiver.bind(this),this.manualPdfSign=this.manualPdfSign.bind(this),this.deleteSession=this.deleteSession.bind(this),this.setMediaViewer=this.setMediaViewer.bind(this),this.getToBeSentList=this.getToBeSentList.bind(this),this.downloadContent=this.downloadContent.bind(this),this.showAlreadySentMessage=this.showAlreadySentMessage.bind(this),this.omitSentForms=this.omitSentForms.bind(this),this.deleteRow=this.deleteRow.bind(this),this.checkCustomerSmsCreditAndSent=this.checkCustomerSmsCreditAndSent.bind(this),this.updateMimeInfo=this.updateMimeInfo.bind(this),this.signDocuments=this.signDocuments.bind(this),this.signPdf=this.signPdf.bind(this),this.writeSignedForm=this.writeSignedForm.bind(this),this.updatePdfCertificates=this.updatePdfCertificates.bind(this),this.isDisabled=this.isDisabled.bind(this),this.stateMap={0:{label:"Pdf dosyalar\u0131 imzalama i\xe7in haz\u0131r. \u0130mzalay\u0131n\u0131z"},10:{label:"\u0130letiler olu\u015fturuluyor. L\xfctfen bekleyiniz.",wait:!0},20:{label:"Sertifika sahibi formlara yaz\u0131l\u0131yor. L\xfctfen, sayfay\u0131 terk etmeyiniz.",wait:!0},30:{label:"Pdf dosyalar\u0131 imzalan\u0131yor. L\xfctfen bekleyiniz"},40:{label:"Pdf dosyalar\u0131 imzalanamad\u0131. L\xfctfen bilgileri kontrol ediniz.",danger:!0},50:{label:"Pdf dosyalar\u0131 imzaland\u0131."},60:{label:""}}}cancelSendingForm(e){let t=this,a={url:"/form/cancelSendingForm",method:"post",data:e.id};t.setState({disabledCancelSendingBtn:!0}),Object(d.e)(a).then((function(){t.setState({manual:!0,alert:null,disabledCancelSendingBtn:!1,selection:[],conditionalSelection:[],conditionalSelectedAll:!1}),p.a.success("Form G\xf6nderimi \u0130ptal Edildi.",{position:"top-right",effect:"stackslide",timeout:5e3}),t.props.load()})).catch((function(e){Object(r.v)(e),t.setState({disabledCancelSendingBtn:!1})}))}checkCustomerSmsCreditAndSent(){let e=this;e.setState({creditLoading:!0,alert:null});let t={url:"/form/checkCustomerSmsCredit",method:"post",data:e.state.formSessionId};Object(d.e)(t).then((function(t){e.setState({creditLoading:!1}),e.isNotEminEczanesi()?e.sign():e.manualPdfSign()})).catch((function(t){Object(r.v)(t),e.setState({alert:null,creditLoading:!1})}))}hasGrant(e){return this.props.hasGrant(e)}componentDidMount(){this.axios=z.a.create({baseURL:"http://127.0.0.1:9999"}),this.props.match&&this.props.match.params.formSessionId?this.setState({formSessionId:this.props.match.params.formSessionId}):this.props.history.push({pathname:"/".concat(this.props.peykName,"/formsessionlist")}),window.addEventListener("resize",this.updateDimensions),this.isHsmOwner(),this.isKepOwner(),this.getList(),this.getToBeSentList(),this.readTitleAll(),this.readSmsTemplate()}componentWillUnmount(){window.removeEventListener("resize",this.updateDimensions)}componentDidUpdate(e,t,a){this.state.completed&&this.state.signError?this.setState({pageState:40}):1===this.state.timer&&!this.state.timerStarted&&this.state.completed&&this.state.signedDocumentCount===this.state.progressLength?(setInterval(()=>{this.setState(e=>({timer:e.timer-1}))},1e3),this.setState({timerStarted:!0})):0===this.state.timer&&(this.setState({backToTheFuture:!0}),this.state.formSessionId?this.state.formState?this.state.backToTheFuture&&(this.state.reloadCalled||(this.props.reload(!0,"sidebar"),this.setState({reloadCalled:!0}))):this.props.history.push({pathname:"/".concat(this.props.peykName,"/formsend/")+this.state.formSessionId,previousPage:"formsession"}):this.props.history.push({pathname:"/".concat(this.props.peykName,"/formsessionlist")})),this.state.backToTheFuture&&(this.state.reloadCalled||(this.props.reload(!0,"sidebar"),this.setState({reloadCalled:!0})))}isKepOwner(){this.setState({isKepOwner:this.props.isKepOwner})}isHsmOwner(){Object(d.e)({url:"signer/hsm/hasAccess",method:"get"}).then(e=>this.setState({isHsmOwner:e.data})).catch(()=>this.setState({isHsmOwner:!1}))}getList(){let e=this,t={url:"/formsession/getList",method:"post",data:{formSessionId:parseInt(e.props.match.params.formSessionId)}};e.setState({loading:!0}),Object(d.e)(t).then((function(t){let{formSession:a,kepAccountList:s}=t.data;e.setState({formSession:a,kepAccountList:s,formTemplate:a.formTemplate,mimeTitle:null!=a.mimeTitle&&a.mimeTitle.length>0?a.mimeTitle:a.formTemplate.formName&&a.formTemplate.formName.replace(" \xd6rne\u011fi",""),mimeBody:null!=a.mimeBody&&a.mimeBody.length>0?a.mimeBody:a.formTemplate.mimeBody,smsBody:null!=a.smsBody&&a.smsBody.length>0?a.smsBody:e.state.smsBody,formParamList:a.formParamList&&JSON.parse(a.formParamList),extInputLabelList:a.formTemplate.formParams&&JSON.parse(a.formTemplate.formParams).externalList}),e.setState({loading:!1},()=>{e.sessionAndEmployeeListChecker(e.props.match.params.formSessionId)})})).catch((function(t){Object(r.v)(t),e.setState({loading:!1})}))}getToBeSentList(){let e=this,t={url:"/formsession/getToBeSentList",method:"post",data:parseInt(e.props.match.params.formSessionId)};e.setState({loading:!0}),Object(d.e)(t).then((function(t){e.setState({toBeSentList:t.data?t.data:[],loading:!1}),e.isDisabled()})).catch((function(t){Object(r.v)(t),e.setState({loading:!1})}))}isDisabled(){let e=this;if((this.state.disabledBtn||this.state.loading)&&e.setState({formInteractionInProgress:!0}),this.state.toBeSentList.length>0){let t={url:"/form/checkFormStates",method:"post",data:this.state.toBeSentList};Object(d.e)(t).then((function(t){!0===t.data?e.setState({checkFormState:!0}):e.setState({checkFormState:!1})})).catch((function(e){Object(r.v)(e)}))}return!1}fetchData(e,t,a,s){let i=this,n=void 0!==e?"&sort="+e+","+t:"",l=i.state.searchQuery?"&"+i.state.searchQuery:"",o={url:"/form/readAllFormBySession?formSessionId="+parseInt(i.props.match.params.formSessionId)+"&showOnlySents="+i.state.showOnlySents+"&page="+a+"&size="+s+l+n,method:"get"};i.setState({tableLoading:!0,searching:!0,manual:!0!==i.manual&&i.manual}),Object(d.e)(o).then((function(e){e.data&&e.data.page&&e.data.page.content.length&&"\u015eABLONSUZ"===e.data.page.content[0].formType.category&&i.setState({isNotEditable:!0}),i.setState({page:a,size:s,total:e.data&&e.data.page&&e.data.page.totalElements,content:e.data&&e.data.page&&e.data.page.content,tableLoading:!1,searching:!1,send:e.data&&e.data.send})})).catch((function(e){i.setState({tableLoading:!1,searching:!1}),Object(r.v)(e)}))}preview(e){let t=this,a={url:"/form/previewFormContent",responseType:"arraybuffer",method:"post",data:e.id};t.setState({mediaModal:!0,temporaryRow:e,showDownloadButton:!0}),Object(d.e)(a).then((function(e){let a=new Blob([e.data],{type:e.headers["content-type"]}),s="";if(void 0!=a){let e=new FileReader;e.readAsDataURL(a),e.onloadend=function(){s=e.result,t.setState({url:s})}}})).catch((function(e){Object(r.v)(e),t.setState({mediaModal:!1})}))}downloadContent(e,t){let a=this,s={url:"/form/previewFormContent",responseType:"arraybuffer",method:"post",data:e.id};a.setState({disabledDownloadBtn:!0,selectedIndex:t}),Object(d.e)(s).then((function(t){let s=new Blob([t.data],{type:t.headers["content-type"]});var i=document.createElement("a");i.href=window.URL.createObjectURL(s);let n=!!e.createdAt&&e.createdAt.toString().substring(0,e.createdAt.indexOf("T")),l="Form_"+(void 0!==e.employee&&null!==e.employee?e.employee.name+"_"+e.employee.surname:"")+"_"+n+"_"+Math.floor(1e5*Math.random())+".pdf";if(i.download=l,document.body.appendChild(i),null!=e.timeStamp&&""!=e.timeStamp){let t=new Blob([T.a.decode(e.timeStamp)],{type:"application/octet-stream"}),a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download=l+".zd",document.body.appendChild(a),a.click()}i.click(),a.setState({disabledDownloadBtn:!1}),a.setState({loading:!1})})).catch((function(e){Object(r.v)(e),a.setState({disabledDownloadBtn:!1,title:null})}))}setMediaViewer(){this.setState({url:null,mediaModal:!1})}sign(){this.state.isKepOwner?this.mimeSign():this.state.isHsmOwner?this.hsmSign():this.mailPdfSign()}mimeSign(){let e=this.state.toBeSentList;e&&e.length>0?this.props.history.push({pathname:"/".concat(this.props.peykName,"/formmimesign"),formSessionId:this.state.formSessionId,kepAccountList:this.state.kepAccountList,mimeTitle:this.state.mimeTitle,mimeBody:this.state.mimeBody}):this.showAlreadySentMessage()}updateMailInfo(){let e=this,t={url:"/signer/writeFormMimeInfo",method:"post",data:{formSessionId:parseInt(this.state.formSessionId),kepAccountId:e.state.kepAccountId&&parseInt(e.state.kepAccountId),title:e.state.mimeTitle,body:e.state.mimeBody,smsBody:e.state.smsBody}};e.setState({pageState:10,alert:null,disableButton:!0}),Object(d.e)(t).then((function(t){e.updatePdfCertificates()})).catch((function(t){Object(r.v)(t),e.setState({pageState:40,disableButton:!1})}))}timerStatus(e){this.props.onTimerStatus(e)}updatePdfCertificates(){let e=this,t={url:"/signer/createFormPdfSignedInfoList",method:"post",data:{formSessionId:parseInt(e.state.formSessionId),hsmType:e.state.pdfCertificate.hsmType,certificate:e.state.pdfCertificate.value,certificateKeyId:e.state.pdfCertificate.keyId,pdfCertificate:JSON.stringify(e.state.pdfCertificate)},timeout:96e5};this.setState({pageState:20,alert:null}),this.timerStatus(!0),Object(d.e)(t).then((function(t){e.setState({signedInfoList:t.data}),e.signPdf()})).catch((function(t){Object(r.v)(t),e.setState({pageState:40,disableButton:!1}),this.timerStatus(!1)}))}async signPdf(){let e=[];this.setState({progressLength:this.state.signedInfoList.length,pageState:30});try{for(const t of this.state.signedInfoList){this.setState({pdfName:t.pdfName});const a=await this.axios.post("/signature/signedinfo?hsmtype="+t.hsmType,{base64:!0,pin:this.state.pin,signedInfo:t.signedInfo,certificate:{keyId:t.certificateKeyId}});e.push({id:t.id,signature:a.data.signedDocument}),await this.writeSignedForm(e),e=[],this.setState({loading:!1,completed:!0,formState:!0}),this.timerStatus(!1)}}catch(t){if(t.response&&401===t.response.status)return void this.setState({alert:i.a.createElement(f.a,{info:!0,confirmBtnText:"Tamam",confirmBtnBsStyle:"warning",title:"UYARI",onConfirm:()=>{this.setState({alert:null}),window.location="/accounting/login"}},"Peyk sunucular\u0131na eri\u015fim esnasindaki bir hatadan dolayi \u0130mza s\xfcreci tamamlanamadi. L\xfctfen tekrar login olup kalan imzalama islemine devam ediniz.")});this.setState({loading:!1,completed:!1,pageState:0,disableButton:!1,alert:i.a.createElement(x.a,{error:t,onConfirm:()=>this.setState({alert:null})})}),this.timerStatus(!1)}}async writeSignedForm(e){try{let t={url:"/signer/writeFormPdfSignature",method:"post",data:e,timeout:96e5};await Object(d.e)(t),this.setState(e=>({signedDocumentCount:e.signedDocumentCount+1}))}catch(t){if(t.response&&401===t.response.status)throw t;Object(r.v)(t),this.setState({pageState:40,disableButton:!1}),this.timerStatus(!1)}}updateMimeInfo(){let e=this,t={url:"/signer/writeFormMimeInfo",method:"post",data:{formSessionId:parseInt(this.state.formSessionId),title:e.state.mimeTitle,body:e.state.mimeBody,smsBody:e.state.smsBody},timeout:96e5};e.setState({pageStatus:10,alert:null,disableButton:!0}),Object(d.e)(t).then((function(t){e.signDocuments()})).catch((function(t){Object(r.v)(t),e.setState({pageStatus:40,disableButton:!1})}))}signDocuments(){let e=this.state.toBeSentList;this.setState({progressLength:e.length,loading:!0,pageStatus:30}),this.timerStatus(!0),Object(d.e)({url:"/signer/hsm-sign-form-list",method:"post",data:e}).then(e=>{p.a.success(e.data),this.stateMap[60].label=e.data,this.setState({completed:!0,pageStatus:60,send:!0}),setInterval(()=>{this.setState({backToTheFuture:!0,loading:!1})},3500)}).catch(e=>{this.setState({loading:!1,completed:!0,pageStatus:40,disableButton:!1,alert:i.a.createElement(x.a,{error:e,onConfirm:()=>this.setState({alert:null})})})}),this.timerStatus(!1)}hsmSign(){let e=this.state.toBeSentList;e&&e.length>0?this.isNoTemplateValid()&&this.updateMimeInfo():this.showAlreadySentMessage()}kepPdfSign(){this.props.history.push({pathname:"/".concat(this.props.peykName,"/formsign"),formSessionId:this.state.formSessionId,selectedIdList:this.state.selection})}mailPdfSign(){let e=this.state.toBeSentList;e&&e.length>0?this.isNoTemplateValid()&&this.updateMailInfo():this.showAlreadySentMessage()}manualPdfSign(){let e=this.state.toBeSentList;e&&e.length>0?this.props.history.push({pathname:"/".concat(this.props.peykName,"/formsign/manual"),formSessionId:this.state.formSessionId,mimeTitle:this.state.mimeTitle,mimeBody:this.state.mimeBody}):this.showAlreadySentMessage()}omitSentForms(){let e=[];return this.state.content.map(t=>{Object(m.N)(t.state,"<","MIME_SIGNED")&&e.push(t.id)}),e}showAlreadySentMessage(){p.a.info("T\xfcm formlar zaten imzal\u0131 ve g\xf6nderilmi\u015f durumundad\u0131r.",{position:"top-right",effect:"stackslide",timeout:5e3})}editReceiver(e){this.setState({employeeId:e.employee?e.employee.id:null,tckn:e.employee&&e.employee.tckn?e.employee.tckn:null,receiverModal:!0})}deleteSession(){let e=this,t={url:"/formsession/deleteFormSession",method:"post",data:this.state.formSessionId};e.setState({disabledBtn:!0}),Object(d.e)(t).then((function(t){let a=t.data;p.a.success(a,{position:"top-right",effect:"stackslide",timeout:5e3}),e.setState({selected:null,manual:!0,disabledBtn:!1,alert:null}),"Silme i\u015flemi ba\u015far\u0131l\u0131 \u015fekilde ger\xe7ekle\u015fti."!==t.data&&e.props.history.push("/".concat(e.props.peykName,"/formsessionlist"))})).catch((function(t){Object(r.v)(t),e.setState({disabledBtn:!1,alert:null})}))}toggleCheckboxChange(e,t,a){let s=this,i=e.target.checked,n=s.state.content,l=s.state.selection;if("all"===t){let e=[];i&&n.forEach(t=>{S.a[t.state].value>=300&&S.a[t.state].value<630&&e.push(t[a])}),s.setState({selection:e,selectedAll:i})}else{let e=l.indexOf(t[a]);e>=0?l=[...l.slice(0,e),...l.slice(e+1)]:S.a[t.state].value>=300&&S.a[t.state].value<630&&l.push(t[a]),s.setState({selection:l,selectedAll:l.length>0&&l.length===s.state.content.length})}}isSelected(e){return-1!==this.state.selection.indexOf(e)}deleteRow(e){let t=this,a={url:"/form/deleteForm",method:"post",data:e.id};t.setState({disabledDeleteBtn:!0}),Object(d.e)(a).then((function(){t.setState({manual:!0,alert:null,disabledDeleteBtn:!1}),p.a.success("Form silindi.",{position:"top-right",effect:"stackslide",timeout:5e3}),t.props.reload(!0,"sidebar")})).catch((function(e){Object(r.v)(e),t.setState({disabledDeleteBtn:!1})}))}downloadExcel(e){let t=this,a={url:"/employee/downloadUnloadedExcel",responseType:"arraybuffer",method:"post",data:{sessionId:e,type:"form"}};t.setState({unloadedLoading:!0}),Object(d.e)(a).then((function(e){t.setState({alert:null,unloadedLoading:!1});let a=document.createElement("a");a.href=window.URL.createObjectURL(new Blob([e.data],{type:"application/vnd.ms-excel"}));let s=new Date;a.download="Form_Gonderilmeyen_Calisanlar_"+s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate()+"_"+s.getHours()+"-"+s.getMinutes()+"-"+s.getSeconds()+".xlsx",a.click()})).catch((function(e){void 0===e.response&&Object(r.v)({message:"\u015eu an i\u015fleminiz ger\xe7ekle\u015ftirilemiyor."}),t.setState({alert:null,unloadedLoading:!1})}))}renderEnteredSections(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,this.state.formParamList&&i.a.createElement("div",{className:"row col-sm-12"},i.a.createElement("label",{style:{textDecoration:"underline",fontWeight:"bold",display:"block",textAlign:"center",margin:"10px 0px 5px 0px"}},"Giri\u015f Yap\u0131lan Veriler:")),this.state.formParamList&&Object.keys(this.state.formParamList).length>0&&this.renderInputList()))}renderState(){let e=this.stateMap[this.state.pageStatus];return i.a.createElement("div",{className:"row",style:{marginBottom:"15px"}},i.a.createElement(n.Col,{sm:12,md:"6"},i.a.createElement("div",{style:{display:"inline-block",marginRight:"8px"}},e.wait&&i.a.createElement(O.a,{type:"balls",color:"#2c2c2c",height:24,width:24})),i.a.createElement("div",{style:{display:"inline-block",marginRight:"8px",position:"relative",top:"-6px",color:!0===e.danger?"trueColor":"falseColor"}},e.label)),i.a.createElement(n.Col,{sm:"12",md:"6"},!this.state.isHsmOwner&&i.a.createElement("div",{className:"explanationOfSigning",style:{lineHeight:"1.2"}},i.a.createElement("i",{className:"fas fa-exclamation-triangle",id:"exclamationIcon",style:{paddingRight:"10px"}}),i.a.createElement("span",{style:{opacity:"0.9",fontSize:"12px",fontWeight:"500"}},"\u0130mzalama s\xfcresince l\xfctfen ekran\u0131 kapatmay\u0131n\u0131z ve bilgisayar\u0131n\u0131z\u0131n ekran koruyucusunun kapal\u0131 oldu\u011fundan emin olun."))))}renderMimeInputs(){return i.a.createElement(n.Container,null,i.a.createElement(n.Row,null,i.a.createElement(n.Col,{sm:3,style:{top:"5px"}},"E-Posta \u0130leti Konusu:"),i.a.createElement(n.Col,{sm:8},i.a.createElement(n.Input,{type:"textarea",rows:3,value:this.state.mimeTitle,disabled:!!this.state.send,style:{height:"auto",border:"1px solid #E3E3E3",marginTop:"2px",padding:"3px 3px"},onChange:e=>this.setState({mimeTitle:e.target.value})}))),i.a.createElement(n.Row,null,i.a.createElement(n.Col,{sm:3,style:{top:"25px"}},"E-Posta \u0130leti \u0130\xe7eri\u011fi:"),i.a.createElement(n.Col,{sm:8},i.a.createElement(n.Input,{type:"textarea",rows:6,value:this.state.mimeBody,disabled:!!this.state.send,style:{height:"auto",border:"1px solid #E3E3E3",marginTop:"2px",padding:"3px 3px"},onChange:e=>this.setState({mimeBody:e.target.value})}))),i.a.createElement(n.Row,null,i.a.createElement(n.Col,{sm:3,style:{top:"5px"}},"SMS \u0130\xe7erik"),i.a.createElement(n.Col,{sm:8},i.a.createElement(n.Input,{type:"textarea",rows:6,value:this.state.smsBody,disabled:!!this.state.send,style:{height:"auto",border:"1px solid #E3E3E3",marginTop:"2px",padding:"3px 3px"},onChange:e=>this.setState({smsBody:e.target.value})}))))}renderFormTemplateInfo(){return i.a.createElement("div",{className:"col-sm-8",style:{paddingLeft:"20px"}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-3"},i.a.createElement("label",null,"Form T\xfcr\xfc:")),i.a.createElement("div",{className:"col-sm-9"},i.a.createElement("label",{style:{fontStyle:"italic"}},this.state.formTemplate&&this.state.formTemplate.formType.category?this.state.formTemplate.formType.category:""))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-3"},i.a.createElement("label",null,"Form Ad\u0131:")),i.a.createElement("div",{className:"col-sm-9"},i.a.createElement("label",{style:{fontStyle:"italic",whiteSpace:"pre"}},this.state.formTemplate&&this.state.formTemplate.formName?this.state.formTemplate.formName:""))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-3"},i.a.createElement("label",null,"Son G\xfcncellenme Tarihi:")),i.a.createElement("div",{className:"col-sm-9"},i.a.createElement("label",{style:{fontStyle:"italic"}},this.state.formTemplate&&this.state.formTemplate.updatedAt?B()(this.state.formTemplate.updatedAt.replace("T"," ").split(".")[0]).format("DD-MM-YYYY HH:mm:ss"):""))),this.renderMimeInputs())}renderFormInputInfo(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-sm-4",style:{padding:"0 0 0 0"}},i.a.createElement("div",{className:"row col-sm-12"},i.a.createElement("label",null,"\u0130\u015flem Yap\u0131s\u0131:\xa0\xa0"),i.a.createElement("label",null,this.state.formTemplate&&i.a.createElement("span",{className:"isAnswerable",style:1===this.state.formTemplate.isAnswerable?{color:"blue",fontWeigth:"bold"}:{color:"gray"}},1===this.state.formTemplate.isAnswerable?"Cevap Zorunlu":"Sadece Onay"))),i.a.createElement("div",{className:"row col-sm-12"},i.a.createElement("label",null,"Form Say\u0131s\u0131:\xa0\xa0"),i.a.createElement("label",{style:{fontWeight:"bold"}},this.state.formSession&&this.state.formSession.formCount)),this.state.unloadedEmployeesLength>0&&i.a.createElement("div",{className:"row col-sm-12"},i.a.createElement("label",null,"Form G\xf6nderilmeyen \xc7al\u0131\u015fan Say\u0131s\u0131:\xa0\xa0"),i.a.createElement("label",{style:{fontWeight:"bold",color:"red"}},this.state.unloadedEmployeesLength)),this.state.unloadedEmployeesLength>0&&i.a.createElement("button",{id:"indirBtn",className:"btn-outline-info",disabled:this.state.loading,onClick:()=>this.downloadExcel(this.state.formSession.id),title:"Form G\xf6nderilmeyen \xe7al\u0131\u015fan listesini indir"},"\u0130ndir"),!!this.state.formSession&&!!this.state.formSession.error&&i.a.createElement("div",{className:"row col-sm-12"},i.a.createElement("label",{style:{fontWeight:"bold",color:"red"}},"Hata Durumu:\xa0\xa0"),i.a.createElement("label",{style:{fontWeight:"bold",color:"red"}},this.state.formSession&&this.state.formSession.error))),i.a.createElement("div",{style:{paddingLeft:"20px"}},this.renderEnteredSections()))}renderInputList(){let e=this.state.extInputLabelList;return i.a.createElement(n.Row,null,e&&e.map(e=>i.a.createElement(n.Col,{col:!0,sm:12,key:e},i.a.createElement(n.Label,{style:{fontWeight:"bold"}},e.includes("span")?e.replace(/span|<|>|b|[/]/g,"")+":":e+" :"),i.a.createElement(n.Label,null,this.state.formParamList?this.state.formParamList[e]:""),i.a.createElement("hr",{style:{height:"3px",backgroundColor:"#E3E3E3",margin:"20px 0"}}))))}activateJoyride(){!1===this.state.joyrideActive&&(this.setState({flag:0}),this.setState({joyrideActive:!0}),this.state.width<1e3&&this.setState({flag:1}))}showWarning(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Se\xe7im Yap\u0131lmad\u0131";this.setState({alert:i.a.createElement(f.a,{warning:!0,confirmBtnText:"Tamam",confirmBtnBsStyle:"warning",title:t,onConfirm:()=>this.setState({alert:null})},e)})}render(){let e=this.state.steps,t=this.state.locale,a={target:"button.zocial.Onay",content:"\u0130mzalama ve g\xf6nderme i\u015flemlerinizi buradan yapabilirsiniz",placement:"auto"};this.state.send||e.splice(1,1,a);let s=[{accessor:[{Header:"Ad\u0131",accessor:"employee.name"},{Header:"Soyad\u0131",accessor:"employee.surname"}],Cell:e=>i.a.createElement("div",{style:{margin:0}},e.employee&&e.employee.name,i.a.createElement("br",null),e.employee&&e.employee.surname)},{accessor:[{Header:"Departman",accessor:"employee.department.name"},{Header:"G\xf6rev",accessor:"employee.jobTitle"}],Cell:e=>{var t,a;return i.a.createElement("div",{style:{margin:0}},i.a.createElement(o.a,{key:null===(t=e.employee.department)||void 0===t?void 0:t.id,text:null===(a=e.employee.department)||void 0===a?void 0:a.name,maxLength:14}),i.a.createElement("br",null),i.a.createElement(o.a,{key:e.employee.id,text:e.employee.jobTitle,maxLength:14}))}},{Header:"TCKN",accessor:"employee.tckn",Cell:e=>i.a.createElement("div",{style:{margin:0}},e.employee&&i.a.createElement("span",{className:"text-success"},e.employee.tckn))},{Header:"Onay Tipi",accessor:"formTemplate_isAnswerable",Cell:e=>i.a.createElement("div",{style:{margin:0}},i.a.createElement("span",{className:"isAnswerable"},e.conditionalApproveAllowed&&e.isAnswerable&&!e.declineAllowed?i.a.createElement("span",{style:{color:"#08c21d"}},"Cevap Zorunlu"):e.conditionalApproveAllowed&&e.isAnswerable&&e.declineAllowed?i.a.createElement("span",{style:{color:"#08c21d"}},"Cevap Zorunlu - Reddedilebilir"):e.conditionalApproveAllowed||!e.isAnswerable||e.declineAllowed?!e.conditionalApproveAllowed&&e.isAnswerable&&e.declineAllowed?i.a.createElement("span",{style:{color:"#08c21d"}},"Cevap Zorunlu - Reddedilebilir"):!e.conditionalApproveAllowed||e.isAnswerable||e.declineAllowed?e.conditionalApproveAllowed&&!e.isAnswerable&&e.declineAllowed?i.a.createElement("span",{style:{color:"#007acc"}},"\u015eartl\u0131 Onaylanabilir - Reddedilebilir"):e.conditionalApproveAllowed||e.isAnswerable||!e.declineAllowed?null:i.a.createElement("span",{style:{color:"#408f57"}},"Reddedilebilir"):i.a.createElement("span",{style:{color:"#007acc"}},"\u015eartl\u0131 Onaylanabilir"):i.a.createElement("span",{style:{color:"#08c21d"}},"Cevap Zorunlu")))},{Header:"Sayfa Say\u0131s\u0131",accessor:"pageCount",Cell:e=>i.a.createElement("div",{style:{margin:0}},e.pageCount)},{Header:"Uyar\u0131 Say\u0131s\u0131",accessor:"warningCount",Cell:e=>i.a.createElement("div",{style:{margin:0}},e.warningCount)},{Header:"Form Durumu",accessor:"state",width:"200px",Cell:e=>i.a.createElement("div",null,e.state&&i.a.createElement("span",{className:"text-"+S.a[e.state].messageType},S.a[e.state].message),e.state&&601===S.a[e.state].value&&i.a.createElement("br",null),e.state&&601===S.a[e.state].value&&i.a.createElement("span",{className:"text-"+S.a[e.state].messageType},"L\xfctfen, Onay ak\u0131\u015f\u0131 \u015fablonunuz ile se\xe7ilen \xe7al\u0131\u015fan bilgilerinin uyumlulu\u011funu kontrol ediniz."))},{Header:"\u0130\u015flemler",accessor:"",sortable:!1,width:"104px",Cell:(e,t)=>i.a.createElement("div",{className:"btn-group",style:{padding:0,margin:0}},i.a.createElement("div",{className:"dropdown",style:{padding:0,margin:0}},i.a.createElement("button",{className:"MenuBtn2 listt btn btn-default",style:{WebkitTextFillColor:"white"},type:"button","data-toggle":"dropdown"},"Se\xe7\u0130n\u0130z"),i.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton_"+e.id},i.a.createElement("a",{className:"dropdown-item",onClick:()=>this.preview(e)},i.a.createElement("i",{className:"fa fa-search"}),"Form G\xf6r\xfcnt\xfcle"),!(this.state.disabledDownloadBtn&&t===this.state.selectedIndex)&&i.a.createElement("a",{className:"dropdown-item",onClick:()=>this.downloadContent(e)},i.a.createElement("i",{className:"fa fa-download"}),"Form \u0130ndir"),!(this.state.disabledDownloadBtn&&t===this.state.selectedIndex)&&e.formType&&!!e.formType.category&&(610===S.a[e.state].value||S.a[e.state].value>=630&&S.a[e.state].value<=660)&&i.a.createElement("a",{className:"dropdown-item",onClick:()=>Object(m.n)(this,e,t,e.formType.category)},i.a.createElement("i",{className:"fa fa-download"}),"Onay Belgesini \u0130ndir"),!this.state.disabledDownloadBtn&&!this.hasGrant(C.E)&&!this.hasGrant(C.B)&&!this.hasGrant(C.U)&&!this.hasGrant(C.G)&&i.a.createElement("a",{className:"dropdown-item",onClick:()=>this.editReceiver(e)},i.a.createElement("i",{className:"fa fa-at"}),"Al\u0131c\u0131 D\xfczenle"),Object(m.N)(e.state,"<","PDF_SIGNED")&&i.a.createElement("a",{className:"dropdown-item",onClick:()=>this.setState({alert:i.a.createElement(f.a,{showCancel:!0,warning:!0,disabled:this.state.disabledDeleteBtn,confirmBtnText:"Evet",cancelBtnText:"Hay\u0131r",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Emin misiniz?",onConfirm:()=>{this.deleteRow(e)},onCancel:()=>this.setState({alert:null})},"Form silinecek.")})},i.a.createElement("i",{className:"fa fa-close"}),"Sil"),e.employee&&e.employee.name&&i.a.createElement("a",{className:"dropdown-item",onClick:()=>this.setState({stateDetail:e})},i.a.createElement("i",{className:"fa fa-info-circle"}),"Durum Detay\u0131"),(Object(m.N)(e.state,"=","INSERTED_TO_FLOW")||Object(m.N)(e.state,"=","FLOW_TIMEOUT"))&&i.a.createElement("a",{className:"dropdown-item",onClick:()=>this.setState({alert:i.a.createElement(f.a,{showCancel:!0,warning:!0,disabled:this.state.disabledCancelSendingBtn,confirmBtnText:"Evet",cancelBtnText:"Hay\u0131r",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Emin misiniz?",onConfirm:()=>{this.cancelSendingForm(e)},onCancel:()=>this.setState({alert:null})},"Form G\xf6nderimi \u0130ptal Edilecek.")})},i.a.createElement("i",{className:"fa-solid fa-rectangle-xmark"}),"G\xf6nderimi \u0130ptal Et"))))}],d=Object(m.I)(this,s,"accessor",this.state.isKepOwner);return i.a.createElement("div",{className:"row baseBackground"},this.state.joyrideActive&&i.a.createElement(E.a,{disableBeacon:!1,autoStart:!0,locale:t,steps:e,continuous:!0,run:this.state.shouldRun,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,scrollToSteps:!0,disableCloseOnEsc:!0,disableOverlay:!1,disableOverlayClicks:!1,keyboardNavigation:!0,hideBackButton:!1,disableOverlayClose:!0,callback:this.callback,holePadding:0,shouldRun:this.state.shouldRun,styles:{options:{zIndex:1e5,primaryColor:"#50a8e2"}}}),this.state.width>1195&&i.a.createElement(n.Nav,{className:"topbar",style:{paddingLeft:"14px",height:"53px"}},!this.state.send&&i.a.createElement(i.a.Fragment,null,(Object(r.f)(this,C.w)||Object(r.f)(this,C.C)||Object(r.f)(this,C.E)||Object(r.f)(this,C.B)||Object(r.f)(this,C.U)||Object(r.f)(this,C.G))&&i.a.createElement(c.a,{position:"leftSide",className:"zocial Onay",style:{fontSize:"x-small",backgroundColor:"forestgreen"},label:"\u0130mzala & G\xf6nder",title:"\u0130mzala ve G\xf6nder",disabled:this.state.disabledBtn||!this.state.isHsmOwner&&!this.state.pin,onClick:()=>{this.state.isHsmOwner||this.state.pdfCertificate&&this.state.pdfCertificate.hsmType&&this.state.pdfCertificate.value&&this.state.pdfCertificate.keyId?this.setState({alert:i.a.createElement(f.a,{showCancel:!0,warning:!0,confirmBtnText:"Evet",cancelBtnText:"Hay\u0131r",confirmBtnBsStyle:"success",cancelBtnBsStyle:"default",title:"Emin Misiniz?",onConfirm:()=>this.checkCustomerSmsCreditAndSent(),onCancel:()=>this.setState({alert:null})},"Dok\xfcmanlar imzalan\u0131p T\xfcbitak zaman damgas\u0131 ile m\xfch\xfcrlenerek g\xf6nderilecektir.")}):this.setState({alert:i.a.createElement(x.a,{error:this.state.certError,onConfirm:()=>this.setState({alert:null})})})}})),this.state.send&&i.a.createElement(c.a,{position:"leftSide",className:"zocial Gonder",style:{fontSize:"x-small"},label:"Uyar\u0131 G\xf6nder",title:"Se\xe7ilecek Ki\u015filere Uyar\u0131 Bildirisi G\xf6nder",disabled:this.state.disabledBtn&&this.state.loading,onClick:()=>{this.props.history.push({pathname:"/".concat(this.props.peykName,"/formmimerepeat"),formSession:this.state.formSession,selectedIdList:this.state.selection,isKepOwner:this.state.isKepOwner})}}),i.a.createElement(c.a,{position:"leftSide",className:"zocial Yenile",style:{fontSize:"x-small"},label:"Sonu\xe7 Yenile",title:"Sonu\xe7 Yenile",disabled:this.state.disabledBtn,onClick:()=>{this.props.reload(!0,"sidebar")}}),!this.state.send&&!this.state.isNotEditable&&this.state.formSession&&(null==this.state.formSession.createdByWebservice||0==this.state.formSession.createdByWebservice)&&i.a.createElement(c.a,{position:"leftSide",className:"zocial Ayar",style:{fontSize:"x-small"},label:"D\xfczenle",title:"Bilgileri D\xfczenle",disabled:this.state.formInteractionInProgress||this.state.checkFormState,onClick:()=>{this.props.history.push({pathname:"/".concat(this.props.peykName,"/formsend/")+this.state.formSessionId,previousPage:"formsession"})}}),(!this.state.send||this.state.formSession&&!this.state.formSession.formCount)&&i.a.createElement(c.a,{position:"leftSide",className:"zocial Sil",style:{fontSize:"x-small",backgroundColor:"indianred"},label:"Form \u0130\u015flemini Sil",title:"Form \u0130\u015flemini Sil",onClick:e=>{(this.state.toBeSentList.length>0||this.state.formSession&&!this.state.formSession.formCount)&&this.setState({alert:i.a.createElement(f.a,{showCancel:!0,warning:!0,confirmBtnText:"Evet",cancelBtnText:"Hay\u0131r",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Emin misiniz?",onConfirm:this.deleteSession,disabled:this.state.disabledBtn,onCancel:()=>this.setState({alert:null})},"Form i\u015flemi i\xe7erisinde imzalanm\u0131\u015f formlar silinemez sadece pdf olu\u015fturuldu durumundaki formlar silinecektir. E\u011fer hepsi pdf olu\u015fturuldu veya i\xe7erik bo\u015f ise a\xe7\u0131lm\u0131\u015f form i\u015flem kayd\u0131 silinecekdir.")}),0===this.state.toBeSentList.length&&this.state.formSession&&this.state.formSession.formCount&&this.setState({alert:i.a.createElement(f.a,{danger:!0,confirmBtnText:"Tamam",confirmBtnBsStyle:"danger",title:"Hata",onConfirm:()=>this.setState({alert:null})},"G\xf6nderilmi\u015f veya g\xf6nderilmekte olan ileti i\xe7eren form i\u015flem kayd\u0131 silinemez.")})}}),i.a.createElement("div",{className:"helpButtonContainer",position:"rightSide",style:this.state.isKepOwner||this.state.isHsmOwner?{position:"absolute",top:"32%",right:"20%"}:{position:"relative",top:"32%",right:"-55em"}},i.a.createElement("button",{className:"helpButton",onClick:()=>{this.activateJoyride()}},i.a.createElement("span",{className:"tooltipText"},"Size yard\u0131mc\u0131 olabilirim"),i.a.createElement("i",{className:"far fa-question-circle helpButtonIcon"})),this.state.stop&&i.a.createElement("div",{className:"nav-item dropdown  videoIconContainer",style:{display:"inline-block",paddingRight:"30px"}},i.a.createElement("button",{className:"nav-link  videoIconButton","data-toggle":"dropdown","aria-haspopup":"true",id:"navbarDropdownMenuLink","aria-expanded":"false"},i.a.createElement("span",{className:"tooltipText"},"Yardimci Videolar"),i.a.createElement("i",{className:"fab fa-youtube videoIcon"})),i.a.createElement("div",{className:"dropdown-menu dropdown-menu-right",id:"showVideos","aria-labelledby":"videosLink"},this.videos.map((e,t)=>i.a.createElement("a",{key:t,className:"dropdown-item",onClick:()=>this.switchVideo(e)},e.title)))))),this.state.width<=1195&&i.a.createElement(b.a,{className:"topbar",style:{paddingLeft:"14px",height:"53px"}},!this.state.send&&i.a.createElement(c.a,{position:"leftSide",className:"zocial Onay",style:{fontSize:"x-small",backgroundColor:"forestgreen"},label:"\u0130mzala & G\xf6nder",title:"\u0130mzala ve G\xf6nder",disabled:this.state.disabledBtn,onClick:()=>{this.sign()}}),!this.state.isKepOwner&&!this.state.isHsmOwner&&!this.state.send&&i.a.createElement(c.a,{position:"leftSide",className:"zocial Onay",style:{fontSize:"x-small",backgroundColor:"forestgreen"},label:"Manuel \u0130mzala & G\xf6nder",title:"Manuel \u0130mzala ve G\xf6nder",disabled:this.state.disabledBtn,onClick:()=>{this.manualPdfSign()}}),this.state.send&&i.a.createElement(c.a,{position:"leftSide",className:"zocial Gonder",style:{fontSize:"x-small"},label:"Uyar\u0131 G\xf6nder",title:"Se\xe7ilecek Ki\u015filere Uyar\u0131 Bildirisi G\xf6nder",disabled:this.state.disabledBtn&&this.state.loading,onClick:()=>{this.props.history.push({pathname:"/".concat(this.props.peykName,"/formmimerepeat"),formSession:this.state.formSession,selectedIdList:this.state.selection,isKepOwner:this.state.isKepOwner})}}),i.a.createElement(c.a,{position:"leftSide",className:"zocial Yenile",style:{fontSize:"x-small"},label:"Sonu\xe7 Yenile",title:"Sonu\xe7 Yenile",disabled:this.state.disabledBtn,onClick:()=>{this.props.reload(!0,"sidebar")}}),!this.state.send&&!this.state.isNotEditable&&i.a.createElement(c.a,{position:"leftSide",className:"zocial Ayar",style:{fontSize:"x-small"},label:"D\xfczenle",title:"Bilgileri D\xfczenle",disabled:this.state.disabledBtn||this.state.loading||Object(m.N)(this.state.content&&this.state.content[0]&&this.state.content[0].state,">=","MIME_SIGNED"),onClick:()=>{this.props.history.push({pathname:"/".concat(this.props.peykName,"/formsend/")+this.state.formSessionId,previousPage:"formsession"})}}),!this.state.send&&i.a.createElement(c.a,{position:"leftSide",className:"zocial Sil",style:{fontSize:"x-small",backgroundColor:"indianred"},label:"Form \u0130\u015flemini Sil",title:"Form \u0130\u015flemini Sil",onClick:e=>{this.state.toBeSentList.length>0&&this.setState({alert:i.a.createElement(f.a,{showCancel:!0,warning:!0,confirmBtnText:"Evet",cancelBtnText:"Hay\u0131r",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Emin misiniz?",onConfirm:this.deleteSession,disabled:this.state.disabledBtn,onCancel:()=>this.setState({alert:null})},"A\xe7\u0131lm\u0131\u015f form i\u015flem kayd\u0131 silinecek.")}),0===this.state.toBeSentList.length&&this.setState({alert:i.a.createElement(f.a,{danger:!0,confirmBtnText:"Tamam",confirmBtnBsStyle:"danger",title:"Hata",onConfirm:()=>this.setState({alert:null})},"G\xf6nderilmi\u015f veya g\xf6nderilmekte olan ileti i\xe7eren form i\u015flem kayd\u0131 silinemez.")})}}),i.a.createElement("div",{className:"helpButtonContainer",position:"rightSide",style:{position:"relative",top:"60%",right:"-5em"}},i.a.createElement("button",{className:"helpButton",onClick:()=>{this.activateJoyride()}},i.a.createElement("span",{className:"tooltipText"},"Size yard\u0131mc\u0131 olabilirim"),i.a.createElement("i",{className:"far fa-question-circle helpButtonIcon"})),this.state.stop&&i.a.createElement("div",{className:"nav-item dropdown  videoIconContainer",style:{display:"inline-block",paddingRight:"30px"}},i.a.createElement("button",{className:"nav-link  videoIconButton","data-toggle":"dropdown","aria-haspopup":"true",id:"navbarDropdownMenuLink","aria-expanded":"false"},i.a.createElement("span",{className:"tooltipText"},"Yardimci Videolar"),i.a.createElement("i",{className:"fab fa-youtube videoIcon"})),i.a.createElement("div",{className:"dropdown-menu dropdown-menu-right",id:"showVideos","aria-labelledby":"videosLink"},this.videos.map((e,t)=>i.a.createElement("a",{key:t,className:"dropdown-item",onClick:()=>this.switchVideo(e)},e.title)))))),i.a.createElement("div",{className:"col-sm-12 satirBasi"},i.a.createElement(n.CardHeader,null,i.a.createElement(n.CardTitle,{tag:"h4"},"Form \u0130\u015flemi")),i.a.createElement(n.CardBody,null,this.state.formSessionId&&!this.state.send&&this.renderState()),i.a.createElement(n.CardBody,null," ",this.state.creditLoading&&i.a.createElement(n.Col,null,i.a.createElement(n.CardTitle,{tag:"h5"},"SMS kont\xf6r bakiyeniz kontrol ediliyor\xa0"),i.a.createElement("div",{style:{display:"inline-block",marginRight:"8px"}},i.a.createElement(O.a,{type:"balls",color:"#2c2c2c",height:24,width:24})))),i.a.createElement(n.CardBody,null,i.a.createElement("div",{className:"FormRenk row",style:{paddingLeft:"0px",right:"2px"}},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("label",{style:{fontWeight:"bold",display:"block",textAlign:"center",margin:"0 20px 20px 0"}},"Form \u0130\u015flem Kayd\u0131 Bilgileri")),this.renderFormTemplateInfo(),this.renderFormInputInfo())),i.a.createElement(n.CardBody,null,i.a.createElement(l.a,{columns:d,content:this.state.content,loading:this.state.loading,total:this.state.total,page:this.state.page,manual:this.state.manual,size:this.state.size,options:["5","10","20","50","100"],fetchData:this.fetchData})),i.a.createElement(n.CardBody,null,!this.state.send&&!this.state.isHsmOwner&&this.state.formSessionId&&i.a.createElement(A.a,{value:this.state.pdfCertificate,onChange:e=>this.setState({pdfCertificate:e}),pinValueChange:e=>this.setState({pin:e}),certificateError:e=>this.setState({certError:e}),pdfName:this.state.pdfName?this.state.pdfName:"",progressLength:this.state.progressLength,signedDocumentCount:this.state.signedDocumentCount,displayCertificateMenu:0===this.state.pageState||40===this.state.pageState,userId:this.props.currentUser&&this.props.currentUser.id}))),this.state.mediaModal&&i.a.createElement(v.a,{modal:this.state.mediaModal,url:this.state.url,title:"Form",closeModal:this.setMediaViewer,downloadContent:this.downloadContent,temporaryRow:this.state.temporaryRow,showDownloadButton:this.state.showDownloadButton,canvas:!0}),this.state.receiverModal&&i.a.createElement(g.a,{id:this.state.employeeId,tckn:this.state.tckn,modal:this.state.receiverModal,titleList:this.state.titleList,hasGrant:this.props.hasGrant,sidebarMenus:this.props.sidebarMenus,isKepOwner:this.state.isKepOwner,toggleModal:(e,t)=>this.setState({receiverModal:e},()=>{t&&this.props.reload()})}),this.state.stateDetail&&i.a.createElement(y.a,{detail:this.state.stateDetail,documentType:this.state.stateDetail.formType?this.state.stateDetail.formType.category:"",toggle:()=>this.setState({stateDetail:void 0})}),this.state.alert,this.state.showEczaciHelpModal&&i.a.createElement(w.a,{video:this.state.video,isOpen:this.state.showEczaciHelpModal,close:()=>this.setState({showEczaciHelpModal:!1})}))}}t.default=D}}]);